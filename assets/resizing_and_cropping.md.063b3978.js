import{_ as h,r as o,c as p,e as i,w as r,b as e,a as n,d as t,o as _}from"./app.2733a36c.js";const K='{"title":"\u{1F533} Resize, Crop, Align","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u{1F533} Resize, Crop, Align","slug":"\u{1F533}-resize-crop-align"},{"level":2,"title":"Fit and Align","slug":"fit-and-align"},{"level":3,"title":"Alignment","slug":"alignment"},{"level":2,"title":"Cropping","slug":"cropping"},{"level":3,"title":"To width or not to width","slug":"to-width-or-not-to-width"},{"level":3,"title":"A note on coloring","slug":"a-note-on-coloring"}],"relativePath":"resizing_and_cropping.md","lastUpdated":1641507618204}',g={},u=n(`<h2 id="\u{1F533}-resize-crop-align" tabindex="-1">\u{1F533} Resize, Crop, Align <a class="header-anchor" href="#\u{1F533}-resize-crop-align" aria-hidden="true">#</a></h2><p>Edge-Resizer was conceived as a nice-url middleware to harness dinamically generated thumbnails. Pass w to request a specific width,</p><p>Pass w, h</p><ul><li>w: positive integer <a href="https://images.weserv.nl/docs/size.html#width" target="_blank" rel="noopener noreferrer">\u{1F517} Width</a>,</li><li>h: positive integer <a href="https://images.weserv.nl/docs/size.html#height" target="_blank" rel="noopener noreferrer">\u{1F517} Height</a></li><li>dpr: positive integer <a href="https://images.weserv.nl/docs/size.html#device-pixel-ratio" target="_blank" rel="noopener noreferrer">\u{1F517} Device Pixel Ratio</a> (defaults to 1)</li></ul><div class="language-html"><pre><code>https://resizer.pictures/w=150_h=150/riff.one/images/dice.png
</code></pre></div><table><thead><tr><th>dpr=2 w=200</th><th>dpr=4 w=200</th><th>dpr=2 w=200</th><th>dpr=3 w=200</th></tr></thead><tbody><tr><td><img src="https://resizer.pictures/dpr=2_w=200/riff.one/images/dice.png" alt="original"></td><td><img src="https://resizer.pictures/dpr=4_w=200/riff.one/images/dice.png" alt="jpg"></td><td><img src="https://resizer.pictures/dpr=2_w=200/riff.one/images/designcue-unsplash.jpg" alt="af"></td><td><img src="https://resizer.pictures/dpr=3_w=200/riff.one/images/designcue-unsplash.jpg" alt="webp"></td></tr></tbody></table>`,6),f=n('<p>In parallel to width, height and setting a specific DPR, you can use <a href="./feature_detection.html#vw">vw</a>, <a href="./feature_detection.html#vh">vh</a> to have Edge Resizer size the image according to your Client Hints headers (Sec-CH-Viewport-[width,height]). Likewise, using <a href="./feature_detection.html#dpr">dpr</a> without a value means &quot;check my Sec-CH-DPR header to pick the best one for me&quot;.</p><h2 id="fit-and-align" tabindex="-1">Fit and Align <a class="header-anchor" href="#fit-and-align" aria-hidden="true">#</a></h2><ul><li>fit: <a href="https://images.weserv.nl/docs/fit.html" target="_blank" rel="noopener noreferrer">\u{1F517} Fit</a> (contain, cover, inside, outside, fill)</li></ul>',3),w=e("div",{class:"feature_description"},[e("b",null,"\u{1F4A1}"),t(" Every supported value for `fit` can also be passed in its shorthand form ")],-1),m=e("p",null,"The following image, whose original dimensions were 200x150 is requested with dimensions 180x210.",-1),b=e("h3",{id:"alignment",tabindex:"-1"},[t("Alignment "),e("a",{class:"header-anchor",href:"#alignment","aria-hidden":"true"},"#")],-1),v=e("p",null,"In scenarios where the original image will show up in a canvas larger than itself, you'd want to set exactly where in this extra room it should align:",-1),y=e("ul",null,[e("li",null,[e("code",null,"a=top-left")]),e("li",null,[e("code",null,"a=top")]),e("li",null,[e("code",null,"a=top-right")])],-1),x=e("p",null,"... you get the idea.",-1),z=e("div",{class:"feature_description"},[e("b",null,"\u{1F4A1}"),t(" Every supported value for `a` can also be passed in its shorthand form ")],-1),T=e("p",null,[t("Special values "),e("code",null,"a=attention"),t(", "),e("code",null,"a=focal"),t(" and "),e("code",null,"a=entropy"),t(" are computed according to a given image contents through some kind of sorcery. And sure, you can use the shorthand form too.")],-1),C=e("thead",null,[e("tr",null,[e("th"),e("th"),e("th")])],-1),A=t("a=focal fpx=0.1 fpy=0.6 fit=cover"),k=t("w=470 fit=cover"),S=t("a=attention fit=cover"),P=n('<h2 id="cropping" tabindex="-1">Cropping <a class="header-anchor" href="#cropping" aria-hidden="true">#</a></h2><p><a href="https://images.weserv.nl/docs/crop.html#rectangle-crop" target="_blank" rel="noopener noreferrer">Cropping</a> is achieved through 4 parameters</p><ul><li>cw: &#39;Crop width&#39;,</li><li>cy: &#39;Crop y&#39;,</li><li>cx: &#39;Crop x&#39;,</li><li>ch: &#39;Crop height&#39;,</li></ul><p>This one is tricky to get right, but you can see an example on the story of <a href="./use_cases.html">my use case</a>.</p><table><thead><tr><th>original w=200 h=150</th><th>w=200 h=150</th><th>w=200 h=150</th><th>w=400 h=300</th></tr></thead><tbody><tr><td></td><td>cx=20 cy=20 fit=cover</td><td>cx=20 cy=20 ch=54 fit=cover</td><td>cx=82 cy=67 ch=137 cw=224 fit=cover</td></tr><tr><td><img src="https://resizer.pictures/w=200_h=150/riff.one/images/printable_chart.png" alt="original"></td><td><img src="https://resizer.pictures/w=200_h=150_cx=20_cy=20_fit=cover/riff.one/images/printable_chart.png" alt="jpg"></td><td><img src="https://resizer.pictures/w=300_cx=130_cy=50_cw=180_ch=210/riff.one/images/printable_chart.png" alt="af"></td><td><img src="https://resizer.pictures/w=400_h=300_cx=82_cy=67_ch=137_cw=224_fit=cover/riff.one/images/printable_chart.png" alt="webp"></td></tr></tbody></table><p>Basically, taking the image AFTER any resizing, you define a rectangle of [cw] x [ch] pixels, starting from a top left corner located at [cx, cy].</p><p>In the example below, the original image is resized to 430 x 270. From this size we want, in turn, to crop a 180 x 210 rectangle starting from [130, 50].</p>',7),j=n('<h3 id="to-width-or-not-to-width" tabindex="-1">To width or not to width <a class="header-anchor" href="#to-width-or-not-to-width" aria-hidden="true">#</a></h3><p>The final result is different if passing an explicit <code>width</code>, in which case the <code>fit</code> and <code>precrop</code> parameters become relevant too. Using fit=contain will output an image of the specified <code>width</code>, in which the cropped rectangle is padded by blank content. In turn, this blank content can be colorized using the <code>cbg</code> parameter:</p>',2),R=t("w=470 bg=CCC fit=contain"),V=e("h3",{id:"a-note-on-coloring",tabindex:"-1"},[t("A note on coloring "),e("a",{class:"header-anchor",href:"#a-note-on-coloring","aria-hidden":"true"},"#")],-1),I=e("p",null,[t("The difference regarding the background color and the "),e("strong",null,"crop background color"),t(", is easier to appreciate on transparent or semi-transparent images. This example algo uses rotation background color to illustrate their different scopes:")],-1),E=t("cbg=eac_bg=9ac_w=250_cw=180_ch=210_ro=10_contain"),D=e("p",null,[t("Using "),e("code",null,"fit=cover"),t(" renders just the cropped rectangle, without blank space paddings (otherwise it would be mostly useless). Please note the output size is defined by "),e("code",null,"cw"),t(" and "),e("code",null,"ch"),t(". Meaning: if you request width=400 and cx=200, it's only logic you'd get a 200px wide image.")],-1),N=t("w=400_cw=250_ch=250_cover_cy=80"),q=e("p",null,[e("strong",null,"But"),t(", when the "),e("code",null,"precrop"),t(" parameter is passed, the image is cropped first and then resized, in which case the output size obeys the "),e("code",null,"w"),t(" and "),e("code",null,"h"),t(" parameters:")],-1),B=t("precrop_cw=380_ch=300_cover_w=250"),F=e("hr",null,null,-1),H=e("p",null,"You can achieve neat effects by keeping a constant cw and ch, and playing with cx and cy:",-1);function $(U,L,M,W,Y,G){const s=o("er-feature"),c=o("adjustments-grid"),a=o("labeled-image"),l=o("available-parameters"),d=o("crop-table");return _(),p("div",null,[u,i(s,{class:"end"}),f,i(s,{class:"banner"},{default:r(()=>[w]),_:1}),m,i(c,{class:"fit",aliasprefix:"fit=",adjustments:{"fit=inside":"","fit=contain":"","fit=cover":"","fit=fill":"","fit=inside":"","fit=outside":""},default_width:180,default_height:210,default_tx:"",image:"riff.one/dice_200.png"}),b,v,y,x,i(s,{class:"banner"},{default:r(()=>[z]),_:1}),i(c,{aliasprefix:"a=",adjustments:{"a=top-left":"","a=top":"","a=top-right":"","a=left":"","a=center":"","a=right":"","a=bottom-left":"","a=bottom":"","a=bottom-right":""},default_width:220,default_height:190,default_tx:"contain_we_cbg=77cccccc",image:"riff.one/img/dice_128.png"}),T,e("table",null,[C,e("tbody",null,[e("tr",null,[e("td",null,[i(a,{src:"https://resizer.pictures/a=focal_w=230_h=220_cover_we/riff.one/fox.avif?fpx=0.1&fpy=0.4"},{default:r(()=>[A]),_:1})]),e("td",null,[i(a,{src:"https://resizer.pictures/a=entropy_w=230_h=220_cover_we/riff.one/fox.avif?fpx=0.3&fpy=0.6"},{default:r(()=>[k]),_:1})]),e("td",null,[i(a,{src:"https://resizer.pictures/a=attention_w=230_h=220_cover_we/riff.one/fox.avif?fpx=0.3&fpy=0.6"},{default:r(()=>[S]),_:1})])])])]),i(l,{keys:["alignments"]}),P,i(a,{src:"https://riff.one/crop.png"}),j,i(a,{class:"bordered",src:"https://resizer.pictures/cbg=ccc_w=470_cx=130_cy=50_cw=180_ch=210_contain/riff.one/designcue-unsplash-430.jpg"},{default:r(()=>[R]),_:1}),V,I,i(a,{class:"bordered",src:"https://resizer.pictures/cbg=eac_bg=9ac_w=250_cw=180_ch=210_ro=10_contain/riff.one/dice.png?rbg=9c6"},{default:r(()=>[E]),_:1}),D,i(a,{style:{width:"510px"},class:"bordered",src:"https://resizer.pictures/w=400_cw=250_ch=250_cover_cy=80/riff.one/designcue-unsplash-430.jpg"},{default:r(()=>[N]),_:1}),q,i(a,{style:{width:"510px"},class:"bordered",src:"https://resizer.pictures/precrop_cw=380_ch=300_cover_w=250/riff.one/designcue-unsplash-430.jpg"},{default:r(()=>[B]),_:1}),F,H,i(d,{rows:3,cols:3,image:"riff.one/designcue-unsplash.jpg",cw:200,ch:150})])}var O=h(g,[["render",$]]);export{K as __pageData,O as default};
