import{_ as e,c as o,o as t,a}from"./app.2733a36c.js";const m='{"title":"\u{1F4E6} Deploy","description":"","frontmatter":{},"relativePath":"deploy.md","lastUpdated":1639039614320}',r={},s=a(`<h1 id="package-deploy" tabindex="-1">\u{1F4E6} Deploy <a class="header-anchor" href="#package-deploy" aria-hidden="true">#</a></h1><p><strong>Edge Resizer can be deployed on your (sub)domain</strong>. Just clone the repo, edit <code>wrangler.toml</code> populating <code>account_id</code>, <code>api_token</code> with yours, or using the (experimental) &quot;Deploy with Workers&quot; button:</p><p><a href="https://deploy.workers.cloudflare.com/?url=https://github.com/ctohm/edge-resizer" target="_blank" rel="noopener noreferrer"><img src="https://deploy.workers.cloudflare.com/button" alt="Deploy to Cloudflare Workers"></a></p><hr><p>You&#39;d probably want to have Edge-Resizer handle requests matching a particular path prefix (say <code>/img</code> o <code>/thumbnails</code>) instead of the whole (sub)domain.</p><p>If that&#39;s the case, please define a secret <code>CF_ROUTE_PREFIX</code> in your repo (if you&#39;re using the &#39;Deploy with workers&#39; button) or replace the <code>ROUTE_PREFIX</code> variable in <code>wrangler.toml</code> as you see fit. Internally a route normalization step should make the leading slash optional.</p><p>The URL of the image you want to proxy should be appended right after the (optional) prefix</p><div class="language-"><pre><code> https://&lt;your_subdomain&gt; / &lt;prefix&gt;? / &lt;source domain&gt; / &lt;source pathname&gt;
</code></pre></div><p>By default, the worker doesn&#39;t define a prefix, which means it&#39;ll try to match any route satisfying the <a href="./routing.html">routing logic</a>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>To prevent unwanted routes to be &quot;intercepted&quot; by the worker, narrow its scope using <code>ROUTE_PREFIX</code></p></div><div class="tip custom-block"><p class="custom-block-title">another tip</p><p>To ensure a given route is handled by the worker when not using a prefix or a transformation, use <code>_</code> as dummy prefix</p></div>`,11),i=[s];function n(p,d,c,l,u,h){return t(),o("div",null,i)}var g=e(r,[["render",n]]);export{m as __pageData,g as default};
