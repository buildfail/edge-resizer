var Oe=Object.create;var I=Object.defineProperty;var Ae=Object.getOwnPropertyDescriptor;var Ie=Object.getOwnPropertyNames;var Ue=Object.getPrototypeOf,Ne=Object.prototype.hasOwnProperty;var We=r=>I(r,"__esModule",{value:!0});var p=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var De=(r,t,n,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ie(t))!Ne.call(r,s)&&(n||s!=="default")&&I(r,s,{get:()=>t[s],enumerable:!(e=Ae(t,s))||e.enumerable});return r},U=(r,t)=>De(We(I(r!=null?Oe(Ue(r)):{},"default",!t&&r&&r.__esModule?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var G=p((mt,M)=>{var _e=async r=>{let t=r.headers.get("content-type");r.content=void 0;try{t&&t.includes("application/json")&&(r.content=await r.json())}catch{}};M.exports={withContent:_e}});var H=p((gt,V)=>{var ze=r=>{r.cookies={};try{r.cookies=(r.headers.get("Cookie")||"").split(/;\s*/).map(t=>t.split("=")).reduce((t,[n,e])=>(t[n]=e,t),{})}catch{}};V.exports={withCookies:ze}});var q=p((ht,B)=>{var Fe=r=>{for(let t in r.params||{})r[t]=r.params[t]};B.exports={withParams:Fe}});var K=p((ut,X)=>{X.exports={...G(),...H(),...q()}});var J=p((dt,Z)=>{var Le=(r="text/plain; charset=utf-8")=>(t,n={})=>{let{headers:e={},...s}=n;return typeof t=="object"?new Response(JSON.stringify(t),{headers:{"Content-Type":r,...e},...s}):new Response(t,n)};Z.exports={createResponseType:Le}});var T=p((ft,Q)=>{var{createResponseType:Me}=J(),Ge=Me("application/json; charset=utf-8");Q.exports={json:Ge}});var N=p((xt,Y)=>{var{json:Ve}=T(),He=(r=500,t="Internal Server Error.")=>Ve({...typeof t=="object"?t:{status:r,error:t}},{status:r});Y.exports={error:He}});var te=p((wt,ee)=>{var{error:Be}=N(),qe=(r="Not found.")=>Be(404,r);ee.exports={missing:qe}});var se=p((Rt,re)=>{var{json:Xe}=T(),Ke=(r,t)=>t?Xe({...typeof t=="object"?t:{status:r,message:t}},{status:r}):new Response(null,{status:r});re.exports={status:Ke}});var ne=p((vt,ae)=>{var Ze=(r,t={})=>new Response(r,t);ae.exports={text:Ze}});var W=p((bt,oe)=>{oe.exports={...N(),...T(),...te(),...se(),...ne()}});var D=p((yt,ie)=>{ie.exports={Router:({base:r="",routes:t=[]}={})=>({__proto__:new Proxy({},{get:(n,e,s)=>(a,...o)=>t.push([e.toUpperCase(),RegExp(`^${(r+a).replace(/(\/?)\*/g,"($1.*)?").replace(/\/$/,"").replace(/:(\w+)(\?)?(\.)?/g,"$2(?<$1>[^/]+)$2$3").replace(/\.(?=[\w(])/,"\\.")}/*$`),o])&&s}),routes:t,async handle(n,...e){let s,a,o=new URL(n.url);n.query=Object.fromEntries(o.searchParams);for(var[c,i,m]of t)if((c===n.method||c==="ALL")&&(a=o.pathname.match(i))){n.params=a.groups;for(var w of m)if((s=await w(n.proxy||n,...e))!==void 0)return s}}})}});var pe=p((Pt,ce)=>{"use strict";var{Router:Je}=D(),{error:Qe}=W(),Ye=(r={})=>{let{stack:t=!1}=r;return new Proxy(Je(r),{get:(n,e)=>(...s)=>e==="handle"?n[e](...s).catch(a=>Qe(a.status||500,{status:a.status||500,error:a.message,stack:t&&a.stack||void 0})):n[e](...s)})};ce.exports={ThrowableRouter:Ye}});var me=p((jt,le)=>{le.exports={...pe()}});var ue=p((Et,he)=>{var ge=class extends Error{constructor(t=500,n="Internal Error."){super(n),this.name="StatusError",this.status=t}};he.exports={StatusError:ge}});var fe=p((kt,de)=>{de.exports={...ue()}});var _=p((Ct,xe)=>{xe.exports={...K(),...W(),...me(),...fe()}});var v=U(_());var we=U(D()),Re=U(_());function et(r){let{pathname:t}=r,n=(decodeURIComponent(t||"").split("?")[0]||"").replace(/\/$/,"").split("/").pop()||"",{groups:e}=/(?<fileName>([^/]+))(?<extension>(\.(apng|avif|gif|jpg|png|svg|webp|bmp|ico|tif|tiff|jpeg))?)/i.exec(n)||{groups:{fileName:"",extension:""}};return{fileName:e?.fileName||"",extension:e?.extension||""}}var ve={"top-left":"a=top-left",top:"a=top","top-right":"a=top-right",left:"a=left",center:"a=center",right:"a=right","bottom-left":"a=bottom-left",bottom:"a=bottom","bottom-right":"a=bottom-right"},z={contain:"fit=contain",cover:"fit=cover",fill:"fit=fill",inside:"fit=inside",outside:"fit=outside"},F={jpg:"output=jpg",jpeg:"output=jpg",png:"output=png",tiff:"output=tiff",gif:"output=gif",webp:"output=webp",auto:"output=webp (if supported)"},P={w:{regex:"(?:width|w)=[0-9.-]+",title:"Width",example:"w=250",section:"Resize",sectionLink:"https://images.weserv.nl/docs/size.html",docs:"https://images.weserv.nl/docs/size.html#width"},h:{regex:"(?:height|h)=[0-9.-]+",title:"Height",example:"h=150",docs:"https://images.weserv.nl/docs/size.html#height"},we:{regex:"we",title:"Without Enlargement",example:"we",docs:"https://images.weserv.nl/docs/fit.html#without-enlargement"},dpr:{regex:"dpr=[0-9]+",title:"Device Pixel Ratio",docs:"https://images.weserv.nl/docs/size.html#device-pixel-ratio",example:"dpr=2"},ro:{regex:"ro=[0-9.-]+",title:"Rotate",example:"ro=45",docs:"https://images.weserv.nl/docs/orientation.html#ro"},flip:{regex:"flip",title:"Flip",example:"flip",note:"",docs:"https://images.weserv.nl/docs/orientation.html#flip"},flop:{regex:"flop",title:"Flop",example:"flop",note:"",docs:"https://images.weserv.nl/docs/orientation.html#flop"},il:{regex:"il",title:"Interlaced/Progressive",example:"il",section:"Optimization/Conversion",sectionLink:"https://images.weserv.nl/docs/format.html#adaptive-filter"},af:{regex:"af",title:"Adaptative Filter",docs:"https://images.weserv.nl/docs/format.html#adaptive-filter",example:"af"},q:{regex:"(?:q|quality)=[0-9.]+",title:"Quality",docs:"https://images.weserv.nl/docs/format.html#quality",example:"q=80"},l:{regex:"l=[0-9]",title:"Compression Level",docs:"https://images.weserv.nl/docs/format.html#compression-level",example:"l=6"},n:{regex:"n=[0-9]+",title:"Number of Pages",docs:"https://images.weserv.nl/docs/format.html#number-of-pages",example:"n=0"},page:{regex:"page=[0-9]+",title:"Page",docs:"https://images.weserv.nl/docs/format.html#page",example:"page=1"},output:{regex:"(?:output|format)=(?:auto|json|png|jpg|gif|tiff|webp|jpeg)",title:"Output",docs:"https://images.weserv.nl/docs/format.html#output",example:"output=png"},cw:{regex:"cw=[0-9]+",title:"Crop width",example:"cw=200",section:"Crop",sectionLink:"https://images.weserv.nl/docs/crop.html#rectangle-crop"},ch:{regex:"ch=[0-9]+",title:"Crop height",example:"ch=100"},cx:{regex:"cx=[0-9]+",title:"Crop x",example:"cx=10"},cy:{regex:"cy=[0-9]+",title:"Crop y",example:"cy=10"},a:{regex:"a=[a-z-]+",title:"Alignment",example:"a=center",docs:"https://images.weserv.nl/docs/crop.html#alignment-position"},precrop:{regex:"precrop",title:"Crop applied before resizing",example:"precrop"},cbg:{regex:"cbg=[a-z0-9A-Z]+",title:"Background Color",example:"cbg=AA00CC",note:'Applies to "cropped" space when fit=Contain'},trim:{regex:"trim(?:=[0-9]+)?",title:"Trim",example:"trim",docs:"https://images.weserv.nl/docs/crop.html#trim"},con:{regex:"con=[0-9]+",title:"Contrast",example:"con=3",section:"Filters",note:""},bg:{regex:"bg=[a-z0-9A-Z]+",title:"Background Color",docs:"https://images.weserv.nl/docs/adjustment.html#background",example:"bg=CCAA00",note:""},blur:{regex:"blur(?:=[0-9]+)?",title:"Blur",example:"blur=2",docs:"https://images.weserv.nl/docs/adjustment.html#blur",note:""},filt:{regex:"filt=[a-z]+",title:"Filter",example:"filt=sepia",note:""},fit:{regex:"fit=(?:contain|cover|fill|inside|outsize)",title:"Fit",docs:"https://images.weserv.nl/docs/fit.html#inside",example:"fit=contain",note:""},gam:{regex:"gam=[0-9.-]+",title:"Gamma",example:"gam=1",docs:"https://images.weserv.nl/docs/adjustment.html#gam",note:""},hue:{regex:"hue=[0-9.-]+",title:"Hue",example:"hue=180",docs:"https://images.weserv.nl/docs/adjustment.html#hue",note:""},mod:{regex:"mod=[0-9.-]+",title:"Brightness",example:"mod=2",docs:"https://images.weserv.nl/docs/adjustment.html#mod",note:""},sat:{regex:"sat=[0-9.-]+",title:"Saturation",example:"sat=50",docs:"https://images.weserv.nl/docs/adjustment.html#sat",note:""},sharp:{regex:"sharp(?:=[0-9]+)?",title:"Sharpen",docs:"https://images.weserv.nl/docs/adjustment.html#sharpen",example:"sharp=2",note:""},tint:{regex:"tint=[a-z0-9A-Z]+",title:"Tint",example:"tint=red",docs:"https://images.weserv.nl/docs/adjustment.html#tint",note:""}},be={vw:{title:"viewport width",regex:"vw(=[0-9.]+)?"},vh:{title:"viewport height",regex:"vh(=[0-9.]+)?"},dpr:{title:"Device Pixel Ratio",regex:"dpr",note:"Passing `dpr` without value will use hinted DPR from client"}},tt=Object.keys(P).concat(Object.keys(F),Object.keys(ve),Object.keys(z),Object.keys(be),["http","https"]),rt=Object.values(P).map(r=>r.regex).concat(Object.values(be).map(r=>r.regex),Object.keys(z),Object.keys(F),["http","https","_"]).join("|"),st=`(?<transformations>(_?(${tt.join("|")})?(=[^:,_/]*)*)+)`,ye=`(?<transformations>((${rt})([_,;:]\\1)*)+)`,Pe="(?<originhost>(self|([a-z0-9:@_-]+)(\\.[a-z0-9_-]+){1,2}(\\.[a-z0-9_-]+)?(\\:\\d+)?))",L="(?<pathname>(.*))",x=class{constructor(t){let n=(t||{}).DEBUG?console.log.bind("ResizerRouter:"):()=>null,e={fit:"contain",n:"-1",maxage:t.MAX_AGE||"1y"},s=(0,we.Router)({base:t.ROUTE_PREFIX||t.base,routes:[["GET",x.transformationsGroupRegex,[x.handleMatchingRoute(n,e)]],["GET",x.transformationsGroupOldRegex,[x.handleMatchingRoute(n,e)]],["GET",x.transformationsGroupNoDomainRegex,[x.handleMatchingRoute(n,e)]]]});return s.get("favicon*",a=>new Response(j(),{headers:{"X-Requested":a.url}})),this.handle=(a,o)=>s.handle(a,o),new Proxy(s,{get:(a,o)=>(...c)=>o==="handle"?a.get("*",i=>i.headers.get("referer")?.includes("favicon.ico")?new Response(null,{status:204}):(console.log({resizeRouterCatchAll:i.url}),fetch(i))).handle(...c):a[o](...c)})}static handleMatchingRoute(t=(...e)=>e,n={fit:"contain",n:"-1",maxage:"1y"}){return(e,s)=>{let a=new URL(e.url),o=t;e.params=e.params||{},e.params.origin=a.origin,e.params.dummyhost&&(e.params.pathname=`${e.params.dummyhost}/${e.params.pathname}`,e.params.originhost=a.host),(["self","0.0"].includes(e.params.originhost)||e.params.originhost.length<4)&&(e.params.originhost=a.host);try{o({originhost:e.params.originhost,pathname:e.params.pathname,transformations:e.params.transformations});let c=new URLSearchParams(e.params.transformations.replace(/[+_/,]/g,"&"));for(let[i,m]of a.searchParams.entries())c.set(i,m);return e.params=x.normalizeRequestParams(e,c),e.params.defaults=n,e.params.protocol=e.params.protocol||"https",e.params.originhost?at(e,s,o):Promise.resolve((0,Re.json)(e.params))}catch(c){return console.error(c),Promise.resolve(new Response(c.message,{status:500}))}}}static normalizeRequestParams(t,n){let e=t.params;e.discarded={},e.transforms={};for(let[s,a]of n.entries())s=s.replace("format","output").replace("width","w").replace("height","h").replace("quality","q"),["http","https"].includes(s)?e.protocol=s:Object.keys(P).includes(s)?e.transforms[s]=a??!0:Object.keys(F).includes(s)?e.transforms.output=s:Object.keys(z).includes(s)?e.transforms.fit=s:Object.keys(ve).includes(s)?e.transforms.a=s:e.discarded[s]=a;if(e.transforms.dpr===""&&t.headers.has("dpr")&&(e.transforms.dpr=String(Number(t.headers.get("dpr"))||1)),e.transforms.trim===""&&(e.transforms.trim="10"),e.discarded.vw!==void 0){let s=Number(t.headers.get("viewport-width")||t.headers.get("sec-ch-viewport-width")||t.headers.get("sec-ch-width")||t.headers.get("width"));if(s||!isNaN(s)){let a=Number(e.discarded.vw)||1;a=Math.min(0,Math.max(1,a)),e.transforms.w=String(Math.ceil(a*s))}}if(e.discarded.vh!==void 0){let s=Number(t.headers.get("sec-ch-viewport-height"));if(s&&!isNaN(s)){let a=Number(e.discarded.vh)||1;a=Math.min(0,Math.max(1,a)),e.transforms.h=String(Math.ceil(a*s))}}return e}},b=x;b.transformationsGroupRegex=new RegExp(`/${ye}/(https?://)?${Pe}/${L}`),b.transformationsGroupOldRegex=new RegExp(`/${st}/(https?://)?${Pe}/${L}`),b.transformationsGroupNoDomainRegex=new RegExp(`/${ye}/(?<dummyhost>([a-z0-9_-][^/]*))/${L}`);function j(){return`<?xml version="1.0" encoding="UTF-8"?>
<svg width="50.8mm" height="49.98mm" viewBox="0 0 180 177.1" xmlns="http://www.w3.org/2000/svg">
<g transform="matrix(3.9212 0 0 3.9212 6182.7 1395.7)">
<rect x="-1574" y="-353.15" width="40.331" height="39.59" rx="2.5955" ry="2.5955" fill="#e0ffff" opacity=".857" stroke="#0063bb" stroke-linejoin="round" stroke-width="2.7109"/>
<text x="-1553.8228" y="-341.6825" fill="#171e31" font-family="sans-serif" font-size="9.5981px" font-weight="bold" letter-spacing="0px" stroke-width=".39821" text-anchor="middle" word-spacing="0px" style="font-feature-settings:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:1.25" xml:space="preserve"><tspan x="-1553.8228" y="-341.6825" text-align="center">CTOhm</tspan><tspan x="-1553.8228" y="-329.68481" text-align="center">Edge</tspan><tspan x="-1553.8228" y="-317.68713" text-align="center">Resizer</tspan></text>
</g>
</svg>`}async function at(r,t,n){let{transforms:e,defaults:s,discarded:a,originhost:o,protocol:c,pathname:i,origin:m}=r.params||{},{maxage:w,...l}=s,u=new URL(r.url);u.pathname=i,u.host=o;let E=r.headers.get("accept")||"",k=r.headers.get("Sec-Fetch-Dest")||"",{fileName:C,extension:S}=et(u),O=u.searchParams.has("nocache"),R=`${u.hostname}${u.pathname}`,g=new URL("https://images.weserv.nl/"),h={...l,...e};if(E.includes("webp")&&h.output==="auto")h.output="webp";else if(!["tiff","gif","png","jpg","jpeg","webp","json"].includes(h.output)){let{output:d,...f}=h;n(d),h=f}h.output&&(h.output=h.output.replace("jpeg","jpg"));for(let[d,f]of Object.entries(h))g.searchParams.set(d,f);g.searchParams.sort();let je=Object.entries(Object.fromEntries(g.searchParams)).map(([d,f])=>`${d}=${f}`).sort().join("_"),$=Object.entries(a).map(([d,f])=>`${d}=${f}`).sort().join("&"),y=`${m}/${je}/${o}/${i}`;return $!==""&&(y=[y,decodeURIComponent($)].join("?")),R=decodeURIComponent(R),g.searchParams.set("url",R),ot({canonicalVariationURL:y,weservUrl:g,skipCache:O,fetchDest:k,debug:n}).catch(d=>{if(n({errMessage:d.message,skipCache:O,fileName:C,extension:S,computedSearchParams:h,discarded_entries:$,canonicalVariationURL:y,protocol:c,fetchDest:k,urlParam:R}),["https","ssl"].includes(c)&&g.searchParams.set("url",`ssl:${R}`),g.searchParams.set("filename",C),h.output&&h.output!==S){let A=C.replace(`${S}`,`${h.output}`);g.searchParams.set("filename",A)}if(g.searchParams.set("maxage",w),g.searchParams.sort(),O&&g.searchParams.set("maxage","1d"),$!=="")for(let[A,Te]of Object.entries(a))g.searchParams.set(A,Te);let f=g.toString().replace(/%2C/g,","),{accept:Ee,"accept-encoding":ke,"accept-language":Ce,"user-agent":Se,"cache-control":$e}=Object.fromEntries(r.headers.entries());return nt(new Request(f,{headers:{fileName:C,accept:Ee,"accept-encoding":ke,"accept-language":Ce,"user-agent":Se,"cache-control":$e,"x-er-source-url":`https://${R}`,"x-er-input-extension":S,"x-er-canonical-variation-url":y}}),t,n).catch(()=>fetch(`https://${R}`))})}async function nt(r,t,n){let e=await fetch(r),s=e.headers.get("Content-Type")||"";if(!e.ok||!s.startsWith("image"))return console.warn({ok:e.ok,contentType:s,statusText:e.statusText,status:e.status}),e;let a=r.headers.get("x-er-canonical-variation-url"),o=r.headers.get("fileName"),c=r.headers.get("x-er-source-url"),i=r.headers.get("x-er-input-extension")||o?.split(".").pop()||"",m=r.url;console.info({canonicalVariationURL:a,weserveUrlStr:m,sourceUrl:c,fileName:o});let w=s.split("/").pop()?.replace("jpeg","jpg"),l=new Response(e.body,e),u=["Viewport-Height","Sec-CH-Viewport-Height","Viewport-Width","Sec-CH-Viewport-Width","DPR","Sec-CH-DPR","Width","Sec-CH-Width"].join(", ");l.headers.set("Accept-CH",u),l.headers.set("Vary",`${u}, Accept, Accept-Encoding`),l.headers.delete("cf-cache-status"),l.headers.set("Cache-Control","public, max-age="+String(31536e3)),l.headers.set("x-er-cached-On",String(Date.now())),l.headers.set("last-modified",new Date(Date.now()-18e4).toUTCString()),c&&l.headers.set("x-er-source-url",c),l.headers.set("x-er-weserve-url",m),o&&l.headers.set("Content-Disposition",`inline; filename = ${decodeURIComponent(o.replace(i,w||i)).trim()} `);let E=a?new Request(a):r;l.headers.set("link",`<${E.url}>; rel = "canonical"`);let k=caches.default;return n({cacheHit:!1,contentType:s,sourceUrl:c,weserveUrlStr:m,fileName:o,canonicalVariationURL:a}),t.waitUntil(k.put(E,l.clone())),l}async function ot({canonicalVariationURL:r,weservUrl:t,skipCache:n,debug:e}){if(n)return Promise.reject(new Error("skipping cache"));let s=await caches.default.match(new Request(r));if(!s)return Promise.reject(new Error("variation not cached"));if(!s.ok)return Promise.reject(new Error(s.statusText));let a=s.headers.get("Content-Type")||"";if(!a.startsWith("image/"))return Promise.reject(new Error("non-image contentType: "+a));let o=s.headers.get("x-er-cached-on")||String(Date.now()),c=s.headers.get("x-er-source-url")||decodeURIComponent(`https://${t.searchParams.get("url")}`),i=decodeURIComponent(s.headers.get("x-er-weserve-url")||t.toString()),m=s.headers.get("Content-Disposition"),w=s.headers.get("link"),l=Math.ceil((Date.now()-Number(o))/1e3);return e({cacheHit:!0,contentType:a,ageSeconds:l,cachedSourceUrl:c,cachedWeserveurl:i,cachedContentDisposition:m,cachedLink:w}),s}function it({vw:r,vh:t,dpr:n,webp:e}){return new Response(`<?xml version="1.0" encoding="UTF-8"?>
<svg width="300px" height="100px" viewBox="0 0 300 100" xmlns="http://www.w3.org/2000/svg">
<rect x="5" y="5" width="280" height="90" rx="2.5955" ry="2.5955" fill="#e0ffff" opacity=".857" stroke="#0063bb" stroke-linejoin="round" stroke-width="2.7109"/>
<text x="0" y="50" fill="#171e31" font-family="sans-serif" font-size="12px"  letter-spacing="0px" stroke-width=".39821" text-anchor="left" 
  xml:space="preserve">
<tspan x="10" y="25" text-align="center">Detected Viewport Width: ${r}</tspan>
<tspan x="10" y="45" text-align="center">Detected Viewport Height: ${t}</tspan>
<tspan x="10" y="65" text-align="center">Detected DPR : ${n}</tspan>
<tspan x="10" y="85" text-align="center">Webp Support: ${e?"yes":"nope"}</tspan>
</text>

</svg>`)}function ct(r){let t=Number(r.headers.get("viewport-width")||r.headers.get("sec-ch-viewport-width")||r.headers.get("sec-ch-width")||r.headers.get("width"))||"N/A",n=Number(r.headers.get("sec-ch-viewport-height"))||"N/A",e=Number(r.headers.get("dpr")||r.headers.get("sec-ch-dpr"))||"N/A",s=r.headers.get("accept")?.includes("webp")?"yes":"nope",a=encodeURIComponent(`000?text=Viewport-Height:+${t}%0AViewport-Width:+${n}%0ADPR:+${e}%0AWebp%20support:+${s}&font_size=21&font=museo`),o=`https://resizer.pictures/auto_dpr/fakeimg.pl/300x145/fff/${a}`;return console.log({requested:o}),fetch(o).then(c=>c.ok?c:(0,v.json)(Object.fromEntries(c.headers)))}var pt=(r="")=>`/${r.replace(/^\/?(.*?)\/?$/g,"$1")}`.replace(/^\/$/,""),Ut={fetch:async(r,t,n)=>{let e=pt(t.ROUTE_PREFIX),s=new URL(r.url),a={ROUTE_PREFIX:`${e}/`,DEBUG:t.DEBUG||s.searchParams.has("debug")},o=new b(a);return o.all("*",i=>i.headers.get("referer")?.includes("favicon.ico")?new Response(j()):(console.log({resizerRoutercatchAll:i.url}),t.ASSETS.fetch(i))),(0,v.ThrowableRouter)({base:""}).get("/favicon*",()=>new Response(j())).get("/version",()=>(0,v.json)({worker:"@ctohm/edge-resizer",debug:t.DEBUG,release:t.RELEASE,env:t.WORKER_ENV,timestamp:t.TIMESTAMP,deployed_at:new Date(1e3*Number(t.TIMESTAMP)).toISOString(),route_prefix:e})).get("/transforms",()=>(0,v.json)({AvailableTransforms:P})).get("/detected_features",i=>ct(i)).get(`${e}/*`,o.handle).get("/detected_features/:webp/:vw/:vh/:dpr",i=>it(i.params)).all("*",i=>i.headers.get("referer")?.includes("favicon.ico")?new Response(j()):t.ASSETS.fetch(i)).handle(r,n).catch(i=>{let m={error:i.message,stack:(i.stack||"").split(`
`)};return console.warn(m),(0,v.json)(m)})}};export{Ut as default};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2l0dHktcm91dGVyLWV4dHJhcy9taWRkbGV3YXJlL3dpdGhDb250ZW50LmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9pdHR5LXJvdXRlci1leHRyYXMvbWlkZGxld2FyZS93aXRoQ29va2llcy5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvaXR0eS1yb3V0ZXItZXh0cmFzL21pZGRsZXdhcmUvd2l0aFBhcmFtcy5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvaXR0eS1yb3V0ZXItZXh0cmFzL21pZGRsZXdhcmUvaW5kZXguanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2l0dHktcm91dGVyLWV4dHJhcy9yZXNwb25zZS9jcmVhdGVSZXNwb25zZVR5cGUuanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2l0dHktcm91dGVyLWV4dHJhcy9yZXNwb25zZS9qc29uLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9pdHR5LXJvdXRlci1leHRyYXMvcmVzcG9uc2UvZXJyb3IuanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2l0dHktcm91dGVyLWV4dHJhcy9yZXNwb25zZS9taXNzaW5nLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9pdHR5LXJvdXRlci1leHRyYXMvcmVzcG9uc2Uvc3RhdHVzLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9pdHR5LXJvdXRlci1leHRyYXMvcmVzcG9uc2UvdGV4dC5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvaXR0eS1yb3V0ZXItZXh0cmFzL3Jlc3BvbnNlL2luZGV4LmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9pdHR5LXJvdXRlci9kaXN0L2l0dHktcm91dGVyLm1pbi5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvaXR0eS1yb3V0ZXItZXh0cmFzL3JvdXRlci9UaHJvd2FibGVSb3V0ZXIuanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2l0dHktcm91dGVyLWV4dHJhcy9yb3V0ZXIvaW5kZXguanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2l0dHktcm91dGVyLWV4dHJhcy9jbGFzc2VzL1N0YXR1c0Vycm9yLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9pdHR5LXJvdXRlci1leHRyYXMvY2xhc3Nlcy9pbmRleC5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvaXR0eS1yb3V0ZXItZXh0cmFzL2luZGV4LmpzIiwgIi4uLy4uL3dvcmtlci50cyIsICIuLi8uLi8uLi9saWIvUmVzaXplclJvdXRlci50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiY29uc3Qgd2l0aENvbnRlbnQ9YXN5bmMgdD0+e2xldCBuPXQuaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIik7dC5jb250ZW50PXZvaWQgMDt0cnl7biYmbi5pbmNsdWRlcyhcImFwcGxpY2F0aW9uL2pzb25cIikmJih0LmNvbnRlbnQ9YXdhaXQgdC5qc29uKCkpfWNhdGNoKHQpe319O21vZHVsZS5leHBvcnRzPXt3aXRoQ29udGVudDp3aXRoQ29udGVudH07IiwgImNvbnN0IHdpdGhDb29raWVzPW89PntvLmNvb2tpZXM9e307dHJ5e28uY29va2llcz0oby5oZWFkZXJzLmdldChcIkNvb2tpZVwiKXx8XCJcIikuc3BsaXQoLztcXHMqLykubWFwKG89Pm8uc3BsaXQoXCI9XCIpKS5yZWR1Y2UoKG8sW2UsaV0pPT4ob1tlXT1pLG8pLHt9KX1jYXRjaChvKXt9fTttb2R1bGUuZXhwb3J0cz17d2l0aENvb2tpZXM6d2l0aENvb2tpZXN9OyIsICJjb25zdCB3aXRoUGFyYW1zPWE9Pntmb3IoY29uc3QgcyBpbiBhLnBhcmFtc3x8e30pYVtzXT1hLnBhcmFtc1tzXX07bW9kdWxlLmV4cG9ydHM9e3dpdGhQYXJhbXM6d2l0aFBhcmFtc307IiwgIm1vZHVsZS5leHBvcnRzPXsuLi5yZXF1aXJlKFwiLi93aXRoQ29udGVudFwiKSwuLi5yZXF1aXJlKFwiLi93aXRoQ29va2llc1wiKSwuLi5yZXF1aXJlKFwiLi93aXRoUGFyYW1zXCIpfTsiLCAiY29uc3QgY3JlYXRlUmVzcG9uc2VUeXBlPShlPVwidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiKT0+KHMsdD17fSk9Pntjb25zdHtoZWFkZXJzOm49e30sLi4ub309dDtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2Ygcz9uZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkocykse2hlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6ZSwuLi5ufSwuLi5vfSk6bmV3IFJlc3BvbnNlKHMsdCl9O21vZHVsZS5leHBvcnRzPXtjcmVhdGVSZXNwb25zZVR5cGU6Y3JlYXRlUmVzcG9uc2VUeXBlfTsiLCAiY29uc3R7Y3JlYXRlUmVzcG9uc2VUeXBlOmNyZWF0ZVJlc3BvbnNlVHlwZX09cmVxdWlyZShcIi4vY3JlYXRlUmVzcG9uc2VUeXBlXCIpLGpzb249Y3JlYXRlUmVzcG9uc2VUeXBlKFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiKTttb2R1bGUuZXhwb3J0cz17anNvbjpqc29ufTsiLCAiY29uc3R7anNvbjpqc29ufT1yZXF1aXJlKFwiLi9qc29uXCIpLGVycm9yPShyPTUwMCxvPVwiSW50ZXJuYWwgU2VydmVyIEVycm9yLlwiKT0+anNvbih7Li4uXCJvYmplY3RcIj09dHlwZW9mIG8/bzp7c3RhdHVzOnIsZXJyb3I6b319LHtzdGF0dXM6cn0pO21vZHVsZS5leHBvcnRzPXtlcnJvcjplcnJvcn07IiwgImNvbnN0e2Vycm9yOmVycm9yfT1yZXF1aXJlKFwiLi9lcnJvclwiKSxtaXNzaW5nPShyPVwiTm90IGZvdW5kLlwiKT0+ZXJyb3IoNDA0LHIpO21vZHVsZS5leHBvcnRzPXttaXNzaW5nOm1pc3Npbmd9OyIsICJjb25zdHtqc29uOmpzb259PXJlcXVpcmUoXCIuL2pzb25cIiksc3RhdHVzPShzLHQpPT50P2pzb24oey4uLlwib2JqZWN0XCI9PXR5cGVvZiB0P3Q6e3N0YXR1czpzLG1lc3NhZ2U6dH19LHtzdGF0dXM6c30pOm5ldyBSZXNwb25zZShudWxsLHtzdGF0dXM6c30pO21vZHVsZS5leHBvcnRzPXtzdGF0dXM6c3RhdHVzfTsiLCAiY29uc3QgdGV4dD0oZSx0PXt9KT0+bmV3IFJlc3BvbnNlKGUsdCk7bW9kdWxlLmV4cG9ydHM9e3RleHQ6dGV4dH07IiwgIm1vZHVsZS5leHBvcnRzPXsuLi5yZXF1aXJlKFwiLi9lcnJvclwiKSwuLi5yZXF1aXJlKFwiLi9qc29uXCIpLC4uLnJlcXVpcmUoXCIuL21pc3NpbmdcIiksLi4ucmVxdWlyZShcIi4vc3RhdHVzXCIpLC4uLnJlcXVpcmUoXCIuL3RleHRcIil9OyIsICJtb2R1bGUuZXhwb3J0cz17Um91dGVyOih7YmFzZTp0PVwiXCIscm91dGVzOmw9W119PXt9KT0+KHtfX3Byb3RvX186bmV3IFByb3h5KHt9LHtnZXQ6KGUsYSxvKT0+KGUsLi4ucik9PmwucHVzaChbYS50b1VwcGVyQ2FzZSgpLFJlZ0V4cChgXiR7KHQrZSkucmVwbGFjZSgvKFxcLz8pXFwqL2csXCIoJDEuKik/XCIpLnJlcGxhY2UoL1xcLyQvLFwiXCIpLnJlcGxhY2UoLzooXFx3KykoXFw/KT8oXFwuKT8vZyxcIiQyKD88JDE+W14vXSspJDIkM1wiKS5yZXBsYWNlKC9cXC4oPz1bXFx3KF0pLyxcIlxcXFwuXCIpfS8qJGApLHJdKSYmb30pLHJvdXRlczpsLGFzeW5jIGhhbmRsZShlLC4uLnIpe2xldCBhLG8sdD1uZXcgVVJMKGUudXJsKTtlLnF1ZXJ5PU9iamVjdC5mcm9tRW50cmllcyh0LnNlYXJjaFBhcmFtcyk7Zm9yKHZhcltwLHMsdV1vZiBsKWlmKChwPT09ZS5tZXRob2R8fFwiQUxMXCI9PT1wKSYmKG89dC5wYXRobmFtZS5tYXRjaChzKSkpe2UucGFyYW1zPW8uZ3JvdXBzO2Zvcih2YXIgYyBvZiB1KWlmKHZvaWQgMCE9PShhPWF3YWl0IGMoZS5wcm94eXx8ZSwuLi5yKSkpcmV0dXJuIGF9fX0pfTtcbiIsICJcInVzZSBzdHJpY3RcIjtjb25zdHtSb3V0ZXI6Um91dGVyfT1yZXF1aXJlKFwiaXR0eS1yb3V0ZXJcIikse2Vycm9yOmVycm9yfT1yZXF1aXJlKFwiLi4vcmVzcG9uc2VcIiksVGhyb3dhYmxlUm91dGVyPShyPXt9KT0+e2NvbnN0e3N0YWNrOmU9ITF9PXI7cmV0dXJuIG5ldyBQcm94eShSb3V0ZXIocikse2dldDoocix0KT0+KC4uLm8pPT5cImhhbmRsZVwiPT09dD9yW3RdKC4uLm8pLmNhdGNoKHI9PmVycm9yKHIuc3RhdHVzfHw1MDAse3N0YXR1czpyLnN0YXR1c3x8NTAwLGVycm9yOnIubWVzc2FnZSxzdGFjazplJiZyLnN0YWNrfHx2b2lkIDB9KSk6clt0XSguLi5vKX0pfTttb2R1bGUuZXhwb3J0cz17VGhyb3dhYmxlUm91dGVyOlRocm93YWJsZVJvdXRlcn07IiwgIm1vZHVsZS5leHBvcnRzPXsuLi5yZXF1aXJlKFwiLi9UaHJvd2FibGVSb3V0ZXJcIil9OyIsICJjbGFzcyBTdGF0dXNFcnJvciBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHI9NTAwLHQ9XCJJbnRlcm5hbCBFcnJvci5cIil7c3VwZXIodCksdGhpcy5uYW1lPVwiU3RhdHVzRXJyb3JcIix0aGlzLnN0YXR1cz1yfX1tb2R1bGUuZXhwb3J0cz17U3RhdHVzRXJyb3I6U3RhdHVzRXJyb3J9OyIsICJtb2R1bGUuZXhwb3J0cz17Li4ucmVxdWlyZShcIi4vU3RhdHVzRXJyb3JcIil9OyIsICJtb2R1bGUuZXhwb3J0cz17Li4ucmVxdWlyZShcIi4vbWlkZGxld2FyZVwiKSwuLi5yZXF1aXJlKFwiLi9yZXNwb25zZVwiKSwuLi5yZXF1aXJlKFwiLi9yb3V0ZXJcIiksLi4ucmVxdWlyZShcIi4vY2xhc3Nlc1wiKX07IiwgIlxuLy9pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi4vcGFja2FnZS5qc29uJztcbmltcG9ydCB7IGpzb24sIFRocm93YWJsZVJvdXRlciB9IGZyb20gJ2l0dHktcm91dGVyLWV4dHJhcyc7XG5cbmltcG9ydCB7IEVudldpdGhCaW5kaW5ncywgUmVzaXplclJvdXRlciwgZmFsbGJhY2tTdmcsIEF2YWlsYWJsZVRyYW5zZm9ybXMsIFJlcXVlc3RXaXRoUGFyYW1zLCBJV2FpdGFibGVPYmplY3QgfSBmcm9tICdlZGdlLXJlc2l6ZXIvUmVzaXplclJvdXRlcidcbmZ1bmN0aW9uIHByaW50SGVhZGVycyh7IHZ3LCB2aCwgZHByLCB3ZWJwIH06IHsgdnc6IHN0cmluZywgdmg6IHN0cmluZywgZHByOiBzdHJpbmcsIHdlYnA6IHN0cmluZyB9KTogUmVzcG9uc2Uge1xuXG4gIHJldHVybiBuZXcgUmVzcG9uc2UoYDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/PlxuPHN2ZyB3aWR0aD1cIjMwMHB4XCIgaGVpZ2h0PVwiMTAwcHhcIiB2aWV3Qm94PVwiMCAwIDMwMCAxMDBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG48cmVjdCB4PVwiNVwiIHk9XCI1XCIgd2lkdGg9XCIyODBcIiBoZWlnaHQ9XCI5MFwiIHJ4PVwiMi41OTU1XCIgcnk9XCIyLjU5NTVcIiBmaWxsPVwiI2UwZmZmZlwiIG9wYWNpdHk9XCIuODU3XCIgc3Ryb2tlPVwiIzAwNjNiYlwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi43MTA5XCIvPlxuPHRleHQgeD1cIjBcIiB5PVwiNTBcIiBmaWxsPVwiIzE3MWUzMVwiIGZvbnQtZmFtaWx5PVwic2Fucy1zZXJpZlwiIGZvbnQtc2l6ZT1cIjEycHhcIiAgbGV0dGVyLXNwYWNpbmc9XCIwcHhcIiBzdHJva2Utd2lkdGg9XCIuMzk4MjFcIiB0ZXh0LWFuY2hvcj1cImxlZnRcIiBcbiAgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cbjx0c3BhbiB4PVwiMTBcIiB5PVwiMjVcIiB0ZXh0LWFsaWduPVwiY2VudGVyXCI+RGV0ZWN0ZWQgVmlld3BvcnQgV2lkdGg6ICR7dnd9PC90c3Bhbj5cbjx0c3BhbiB4PVwiMTBcIiB5PVwiNDVcIiB0ZXh0LWFsaWduPVwiY2VudGVyXCI+RGV0ZWN0ZWQgVmlld3BvcnQgSGVpZ2h0OiAke3ZofTwvdHNwYW4+XG48dHNwYW4geD1cIjEwXCIgeT1cIjY1XCIgdGV4dC1hbGlnbj1cImNlbnRlclwiPkRldGVjdGVkIERQUiA6ICR7ZHByfTwvdHNwYW4+XG48dHNwYW4geD1cIjEwXCIgeT1cIjg1XCIgdGV4dC1hbGlnbj1cImNlbnRlclwiPldlYnAgU3VwcG9ydDogJHt3ZWJwID8gJ3llcycgOiAnbm9wZSd9PC90c3Bhbj5cbjwvdGV4dD5cblxuPC9zdmc+YCk7XG59XG5mdW5jdGlvbiBjaGVja0hlYWRlcnMocmVxOiBSZXF1ZXN0V2l0aFBhcmFtcyk6IFByb21pc2U8UmVzcG9uc2U+IHtcbiAgY29uc3QgdncgPSBOdW1iZXIocmVxLmhlYWRlcnMuZ2V0KCd2aWV3cG9ydC13aWR0aCcpIHx8IHJlcS5oZWFkZXJzLmdldCgnc2VjLWNoLXZpZXdwb3J0LXdpZHRoJykgfHwgcmVxLmhlYWRlcnMuZ2V0KCdzZWMtY2gtd2lkdGgnKSB8fCByZXEuaGVhZGVycy5nZXQoJ3dpZHRoJykpIHx8ICdOL0EnXG4gIGNvbnN0IHZoID0gTnVtYmVyKHJlcS5oZWFkZXJzLmdldCgnc2VjLWNoLXZpZXdwb3J0LWhlaWdodCcpKSB8fCAnTi9BJ1xuICBjb25zdCBkcHIgPSBOdW1iZXIocmVxLmhlYWRlcnMuZ2V0KCdkcHInKSB8fCByZXEuaGVhZGVycy5nZXQoJ3NlYy1jaC1kcHInKSkgfHwgJ04vQSdcbiAgY29uc3Qgd2VicCA9IHJlcS5oZWFkZXJzLmdldCgnYWNjZXB0Jyk/LmluY2x1ZGVzKCd3ZWJwJykgPyAneWVzJyA6ICdub3BlJ1xuICBsZXQgcGxhY2Vob2xkZXIgPSBlbmNvZGVVUklDb21wb25lbnQoYDAwMD90ZXh0PVZpZXdwb3J0LUhlaWdodDorJHt2d30lMEFWaWV3cG9ydC1XaWR0aDorJHt2aH0lMEFEUFI6KyR7ZHByfSUwQVdlYnAlMjBzdXBwb3J0Oiske3dlYnB9JmZvbnRfc2l6ZT0yMSZmb250PW11c2VvYCksXG4gICAgcmVxdWVzdGVkID0gYGh0dHBzOi8vcmVzaXplci5waWN0dXJlcy9hdXRvX2Rwci9mYWtlaW1nLnBsLzMwMHgxNDUvZmZmLyR7cGxhY2Vob2xkZXJ9YFxuICBjb25zb2xlLmxvZyh7IHJlcXVlc3RlZCB9KVxuICByZXR1cm4gZmV0Y2gocmVxdWVzdGVkKS50aGVuKChyZXM6IFJlc3BvbnNlKSA9PiB7XG4gICAgaWYgKCFyZXMub2spIHtcbiAgICAgIHJldHVybiBqc29uKE9iamVjdC5mcm9tRW50cmllcygocmVzIGFzIFJlc3BvbnNlKS5oZWFkZXJzKSlcbiAgICB9XG4gICAgcmV0dXJuIHJlc1xuICB9KVxuXG5cblxufVxuLyoqXG4gKiBFbnN1cmUgbGVhZGluZyBzbGFzaCBhbmQgbm8gdHJhaWxpbmcgc2xhc2ggZm9yIG5vbiBlbXB0eSBwcmVmaXhlcy5cbiAqIFByZWZpeGVzIGNvbnNpc3Rpbmcgb2YgYSBzaW5nbGUgc2xhc2ggc2hvdWxkIGJlIHRyYW5zZm9ybWVkIHRvIGVtcHR5IHN0cmluZ3NcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXhcbiAqIEByZXR1cm5zICB7c3RyaW5nfVxuICovXG5jb25zdCBub3JtYWxpemVQcmVmaXggPSAocHJlZml4ID0gJycpID0+IGAvJHsocHJlZml4KS5yZXBsYWNlKC9eXFwvPyguKj8pXFwvPyQvZywgJyQxJyl9YC5yZXBsYWNlKC9eXFwvJC8sICcnKVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGZldGNoOiBhc3luYyAocmVxdWVzdDogUmVxdWVzdCwgZW52OiBFbnZXaXRoQmluZGluZ3MsIGN0eDogSVdhaXRhYmxlT2JqZWN0KTogUHJvbWlzZTxSZXNwb25zZT4gPT4ge1xuICAgIGNvbnN0IE5PUk1BTElaRURfUk9VVEVfUFJFRklYID0gbm9ybWFsaXplUHJlZml4KGVudi5ST1VURV9QUkVGSVgpLFxuICAgICAgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybClcbiAgICBjb25zdCBvcHRpb25zID0geyBST1VURV9QUkVGSVg6IGAke05PUk1BTElaRURfUk9VVEVfUFJFRklYfS9gLCBERUJVRzogZW52LkRFQlVHIHx8IHVybC5zZWFyY2hQYXJhbXMuaGFzKCdkZWJ1ZycpIH1cbiAgICAvL2N0eC5wYXNzVGhyb3VnaE9uRXhjZXB0aW9uKClcbiAgICBjb25zdCByZXNpemVyUm91dGVyID0gbmV3IFJlc2l6ZXJSb3V0ZXIob3B0aW9ucylcbiAgICByZXNpemVyUm91dGVyLmFsbCgnKicsIChyZXE6IFJlcXVlc3QpID0+IHtcbiAgICAgIC8qKlxuICAgICAgICogUHJldmVudCBpbmZpbml0ZSBmYXZpY29uIGxvb3BcbiAgICAgICAqL1xuICAgICAgaWYgKHJlcS5oZWFkZXJzLmdldCgncmVmZXJlcicpPy5pbmNsdWRlcygnZmF2aWNvbi5pY28nKSkge1xuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKGZhbGxiYWNrU3ZnKCkpXG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyh7IHJlc2l6ZXJSb3V0ZXJjYXRjaEFsbDogcmVxLnVybCB9KVxuICAgICAgcmV0dXJuIGVudi5BU1NFVFMuZmV0Y2gocmVxKVxuICAgIH0pXG4gICAgLy8gUmVwbGFjZSBcbiAgICBjb25zdCBtYWluUm91dGVyOiBUaHJvd2FibGVSb3V0ZXI8UmVxdWVzdD4gPSBUaHJvd2FibGVSb3V0ZXIoeyBiYXNlOiAnJyB9KVxuICAgICAgLmdldCgnL2Zhdmljb24qJywgKCkgPT4gbmV3IFJlc3BvbnNlKGZhbGxiYWNrU3ZnKCkpKVxuICAgICAgLmdldCgnL3ZlcnNpb24nLCAoKSA9PiBqc29uKHtcbiAgICAgICAgd29ya2VyOiAnQGN0b2htL2VkZ2UtcmVzaXplcicsIGRlYnVnOiBlbnYuREVCVUcsIHJlbGVhc2U6IGVudi5SRUxFQVNFLCBlbnY6IGVudi5XT1JLRVJfRU5WLFxuICAgICAgICB0aW1lc3RhbXA6IGVudi5USU1FU1RBTVAsIGRlcGxveWVkX2F0OiBuZXcgRGF0ZSgxMDAwICogTnVtYmVyKGVudi5USU1FU1RBTVApKS50b0lTT1N0cmluZygpLFxuICAgICAgICByb3V0ZV9wcmVmaXg6IE5PUk1BTElaRURfUk9VVEVfUFJFRklYXG4gICAgICB9KSlcbiAgICAgIC5nZXQoJy90cmFuc2Zvcm1zJywgKCkgPT4ganNvbih7XG4gICAgICAgIEF2YWlsYWJsZVRyYW5zZm9ybXNcbiAgICAgIH0pKVxuICAgICAgLmdldCgnL2RldGVjdGVkX2ZlYXR1cmVzJywgKHJlcTogUmVxdWVzdFdpdGhQYXJhbXMpID0+IGNoZWNrSGVhZGVycyhyZXEpKVxuICAgICAgLmdldChcbiAgICAgICAgYCR7Tk9STUFMSVpFRF9ST1VURV9QUkVGSVh9LypgLFxuICAgICAgICByZXNpemVyUm91dGVyLmhhbmRsZVxuICAgICAgKVxuICAgICAgLmdldChcbiAgICAgICAgJy9kZXRlY3RlZF9mZWF0dXJlcy86d2VicC86dncvOnZoLzpkcHInLFxuICAgICAgICAocmVxOiBSZXF1ZXN0V2l0aFBhcmFtcykgPT4gcHJpbnRIZWFkZXJzKHJlcS5wYXJhbXMgYXMgdW5rbm93biBhcyB7IHZ3OiBzdHJpbmcsIHZoOiBzdHJpbmcsIGRwcjogc3RyaW5nLCB3ZWJwOiBzdHJpbmcgfSlcbiAgICAgIClcbiAgICAgIC5hbGwoJyonLCAocmVxOiBSZXF1ZXN0KSA9PiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmV2ZW50IGluZmluaXRlIGZhdmljb24gbG9vcFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHJlcS5oZWFkZXJzLmdldCgncmVmZXJlcicpPy5pbmNsdWRlcygnZmF2aWNvbi5pY28nKSkge1xuICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoZmFsbGJhY2tTdmcoKSlcbiAgICAgICAgfVxuICAgICAgICAvL2NvbnNvbGUubG9nKHsgY2F0Y2hBbGw6IHJlcS51cmwgfSlcbiAgICAgICAgcmV0dXJuIGVudi5BU1NFVFMuZmV0Y2gocmVxKVxuICAgICAgfSlcblxuXG4gICAgcmV0dXJuIG1haW5Sb3V0ZXJcbiAgICAgIC5oYW5kbGUocmVxdWVzdCwgY3R4KVxuICAgICAgLmNhdGNoKChlcnI6IEVycm9yKSA9PiB7XG4gICAgICAgIGxldCB3YXJuT2JqID0ge1xuICAgICAgICAgIGVycm9yOiBlcnIubWVzc2FnZSxcbiAgICAgICAgICBzdGFjazogKGVyci5zdGFjayB8fCAnJykuc3BsaXQoJ1xcbicpLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnNvbGUud2Fybih3YXJuT2JqKTtcbiAgICAgICAgcmV0dXJuIGpzb24od2Fybk9iailcbiAgICAgIH0pO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgUm91dGVyLCBSb3V0ZXJPcHRpb25zIH0gZnJvbSAnaXR0eS1yb3V0ZXInO1xuaW1wb3J0IHsganNvbiB9IGZyb20gJ2l0dHktcm91dGVyLWV4dHJhcydcblxuZXhwb3J0IGludGVyZmFjZSBJV2FpdGFibGVPYmplY3Qge1xuICAgIHdhaXRVbnRpbDogKHByb21pc2U6IFByb21pc2U8YW55PikgPT4gdm9pZDtcbn1cbmV4cG9ydCB0eXBlIFRJbWFnZVBhcmFtZXRlcnMgPSB7XG4gICAgdHJhbnNmb3JtczogUmVjb3JkPHN0cmluZyAmIGtleW9mIElkZWZhdWx0U2VhcmNoUGFyYW1zLCBzdHJpbmc+O1xuICAgIGRlZmF1bHRzOiB7IGZpdDogc3RyaW5nLCBuOiBzdHJpbmcsIG1heGFnZTogc3RyaW5nIH0sXG4gICAgZGlzY2FyZGVkOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xufSAmIHtcbiAgICBbczogc3RyaW5nXTogc3RyaW5nO1xuXG59O1xuZXhwb3J0IHR5cGUgUmVxdWVzdFdpdGhQYXJhbXMgPSBSZXF1ZXN0ICYge1xuXG4gICAgcGFyYW1zPzogVEltYWdlUGFyYW1ldGVycztcblxufTtcblxuZXhwb3J0IHR5cGUgQ29udGV4dCA9IHtcbiAgICByZXF1ZXN0OiBSZXF1ZXN0O1xuXG59ICYgSVdhaXRhYmxlT2JqZWN0O1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgRW52V2l0aEJpbmRpbmdzIHtcbiAgICBERUJVRzogYm9vbGVhbjtcbiAgICBXT1JLRVJfRU5WOiBzdHJpbmc7XG4gICAgUk9VVEVfUFJFRklYOiBzdHJpbmc7XG4gICAgUkVMRUFTRTogc3RyaW5nO1xuICAgIFRJTUVTVEFNUD86IG51bWJlcjtcbiAgICBBU1NFVFM6IEtWTmFtZXNwYWNlO1xuICAgIE1BWF9BR0U/OiBzdHJpbmdcbn1cblxuZnVuY3Rpb24gZ2V0RmlsZU5hbWUodXJsOiBVUkwpOiB7IGZpbGVOYW1lOiBzdHJpbmc7IGV4dGVuc2lvbjogc3RyaW5nIH0ge1xuICAgIGNvbnN0IHsgcGF0aG5hbWUgfSA9IHVybCxcbiAgICAgICAgbGFzdFBhcnQgPSAoZGVjb2RlVVJJQ29tcG9uZW50KHBhdGhuYW1lIHx8ICcnKS5zcGxpdCgnPycpWzBdIHx8ICcnKS5yZXBsYWNlKC9cXC8kLywgJycpLnNwbGl0KCcvJykucG9wKCkgfHwgJydcbiAgICBjb25zdCB7IGdyb3VwcyB9ID0gLyg/PGZpbGVOYW1lPihbXi9dKykpKD88ZXh0ZW5zaW9uPihcXC4oYXBuZ3xhdmlmfGdpZnxqcGd8cG5nfHN2Z3x3ZWJwfGJtcHxpY298dGlmfHRpZmZ8anBlZykpPykvaS5leGVjKGxhc3RQYXJ0KSB8fCB7IGdyb3VwczogeyBmaWxlTmFtZTogJycsIGV4dGVuc2lvbjogJycgfSB9XG5cbiAgICByZXR1cm4geyBmaWxlTmFtZTogZ3JvdXBzPy5maWxlTmFtZSB8fCAnJywgZXh0ZW5zaW9uOiBncm91cHM/LmV4dGVuc2lvbiB8fCAnJyB9O1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgSWRlZmF1bHRTZWFyY2hQYXJhbXMge1xuICAgIGNiZzogc3RyaW5nO1xuICAgIHBhZ2U/OiBudW1iZXI7XG4gICAgYmc6IHN0cmluZztcbiAgICBmaXQ6IHN0cmluZztcbiAgICBhZjogc3RyaW5nO1xuICAgIGw/OiBzdHJpbmc7XG4gICAgdz86IHN0cmluZyB8IG51bGw7XG4gICAgaD86IHN0cmluZyB8IG51bGw7XG4gICAgb3V0cHV0Pzogc3RyaW5nO1xuICAgIC8vIGZpbGVuYW1lPzogc3RyaW5nO1xuICAgIHE/OiBzdHJpbmc7XG4gICAgbj86IHN0cmluZztcbiAgICBpbD86IHN0cmluZztcbiAgICBzaGFycD86IHN0cmluZztcbiAgICBjdz86IG51bWJlcjtcbiAgICBjeT86IG51bWJlcjtcbiAgICBhPzogc3RyaW5nO1xuICAgIGN4PzogbnVtYmVyO1xuICAgIGNoPzogbnVtYmVyO1xuICAgIGh1ZT86IG51bWJlcjtcbiAgICBkcHI/OiBudW1iZXI7XG5cblxuICAgIHByZWNyb3A/OiBzdHJpbmc7XG4gICAgZmxpcD86IHN0cmluZztcbiAgICBmbG9wPzogc3RyaW5nO1xuICAgIHJvOiBudW1iZXI7XG4gICAgd2U/OiBzdHJpbmc7XG4gICAgdHJpbT86IHN0cmluZztcbiAgICBibHVyPzogbnVtYmVyO1xuICAgIGZpbHQ/OiBzdHJpbmc7XG4gICAgY29uPzogbnVtYmVyO1xuICAgIG1vZD86IHN0cmluZztcbiAgICBzYXQ/OiBzdHJpbmc7XG4gICAgZ2FtPzogbnVtYmVyO1xuICAgIHRpbnQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU91dHB1dEZvcm1hdHMge1xuICAgIGpwZz86IHN0cmluZztcbiAgICBwbmc/OiBzdHJpbmc7XG4gICAgZ2lmPzogc3RyaW5nO1xuICAgIHRpZmY/OiBzdHJpbmc7XG4gICAgd2VicD86IHN0cmluZztcbiAgICBqcGVnPzogc3RyaW5nO1xuICAgIGF1dG8/OiBzdHJpbmc7XG59XG5pbnRlcmZhY2UgSUZpdE1vZGVzIHtcbiAgICBjb250YWluPzogc3RyaW5nO1xuICAgIGNvdmVyPzogc3RyaW5nO1xuICAgIGZpbGw/OiBzdHJpbmc7XG4gICAgaW5zaWRlPzogc3RyaW5nO1xuICAgIG91dHNpZGU/OiBzdHJpbmc7XG59XG5leHBvcnQgY29uc3QgQWxpZ25tZW50QWxpYXNlcyA9IHtcbiAgICAndG9wLWxlZnQnOiAnYT10b3AtbGVmdCcsXG4gICAgJ3RvcCc6ICdhPXRvcCcsXG4gICAgJ3RvcC1yaWdodCc6ICdhPXRvcC1yaWdodCcsXG4gICAgJ2xlZnQnOiAnYT1sZWZ0JyxcbiAgICAnY2VudGVyJzogJ2E9Y2VudGVyJyxcbiAgICAncmlnaHQnOiAnYT1yaWdodCcsXG4gICAgJ2JvdHRvbS1sZWZ0JzogJ2E9Ym90dG9tLWxlZnQnLFxuICAgICdib3R0b20nOiAnYT1ib3R0b20nLFxuICAgICdib3R0b20tcmlnaHQnOiAnYT1ib3R0b20tcmlnaHQnLFxufVxuZXhwb3J0IGNvbnN0IEZpdEFsaWFzZXM6IFJlY29yZDxrZXlvZiBJRml0TW9kZXMsIHN0cmluZz4gPSB7XG4gICAgY29udGFpbjogJ2ZpdD1jb250YWluJyxcbiAgICBjb3ZlcjogJ2ZpdD1jb3ZlcicsXG4gICAgZmlsbDogJ2ZpdD1maWxsJyxcbiAgICBpbnNpZGU6ICdmaXQ9aW5zaWRlJyxcbiAgICBvdXRzaWRlOiAnZml0PW91dHNpZGUnLFxufVxuZXhwb3J0IGNvbnN0IEZvcm1hdEFsaWFzZXM6IFJlY29yZDxrZXlvZiBJT3V0cHV0Rm9ybWF0cywgc3RyaW5nPiA9IHtcbiAgICBqcGc6ICdvdXRwdXQ9anBnJyxcbiAgICBqcGVnOiAnb3V0cHV0PWpwZycsXG4gICAgcG5nOiAnb3V0cHV0PXBuZycsXG4gICAgdGlmZjogJ291dHB1dD10aWZmJyxcbiAgICBnaWY6ICdvdXRwdXQ9Z2lmJyxcbiAgICB3ZWJwOiAnb3V0cHV0PXdlYnAnLFxuXG4gICAgYXV0bzogYG91dHB1dD13ZWJwIChpZiBzdXBwb3J0ZWQpYFxufVxuZXhwb3J0IGNvbnN0IEF2YWlsYWJsZVRyYW5zZm9ybXM6IFJlY29yZDxrZXlvZiBJZGVmYXVsdFNlYXJjaFBhcmFtcywge1xuICAgIHJlZ2V4OiBzdHJpbmcsXG4gICAgdGl0bGU6IHN0cmluZywgZG9jcz86IHN0cmluZywgZXhhbXBsZTogc3RyaW5nLCBzZWN0aW9uPzogc3RyaW5nLCBzZWN0aW9uTGluaz86IHN0cmluZywgbm90ZT86IHN0cmluZ1xufT4gPSB7XG4gICAgdzoge1xuICAgICAgICByZWdleDogJyg/OndpZHRofHcpPVswLTkuLV0rJyxcbiAgICAgICAgdGl0bGU6ICdXaWR0aCcsIGV4YW1wbGU6ICd3PTI1MCcsIHNlY3Rpb246ICdSZXNpemUnLCBzZWN0aW9uTGluazogJ2h0dHBzOi8vaW1hZ2VzLndlc2Vydi5ubC9kb2NzL3NpemUuaHRtbCcsIGRvY3M6ICdodHRwczovL2ltYWdlcy53ZXNlcnYubmwvZG9jcy9zaXplLmh0bWwjd2lkdGgnXG4gICAgfSxcbiAgICBoOiB7XG4gICAgICAgIHJlZ2V4OiAnKD86aGVpZ2h0fGgpPVswLTkuLV0rJyxcbiAgICAgICAgdGl0bGU6ICdIZWlnaHQnLCBleGFtcGxlOiAnaD0xNTAnLCBkb2NzOiAnaHR0cHM6Ly9pbWFnZXMud2VzZXJ2Lm5sL2RvY3Mvc2l6ZS5odG1sI2hlaWdodCdcbiAgICB9LFxuICAgIHdlOiB7XG4gICAgICAgIHJlZ2V4OiAnd2UnLFxuICAgICAgICB0aXRsZTogJ1dpdGhvdXQgRW5sYXJnZW1lbnQnLCBleGFtcGxlOiAnd2UnLCBkb2NzOiAnaHR0cHM6Ly9pbWFnZXMud2VzZXJ2Lm5sL2RvY3MvZml0Lmh0bWwjd2l0aG91dC1lbmxhcmdlbWVudCdcbiAgICB9LFxuICAgIGRwcjoge1xuICAgICAgICByZWdleDogJ2Rwcj1bMC05XSsnLFxuICAgICAgICB0aXRsZTogJ0RldmljZSBQaXhlbCBSYXRpbycsIGRvY3M6ICdodHRwczovL2ltYWdlcy53ZXNlcnYubmwvZG9jcy9zaXplLmh0bWwjZGV2aWNlLXBpeGVsLXJhdGlvJywgZXhhbXBsZTogJ2Rwcj0yJ1xuICAgIH0sXG4gICAgcm86IHtcbiAgICAgICAgcmVnZXg6ICdybz1bMC05Li1dKycsXG4gICAgICAgIHRpdGxlOiAnUm90YXRlJywgZXhhbXBsZTogJ3JvPTQ1JywgZG9jczogJ2h0dHBzOi8vaW1hZ2VzLndlc2Vydi5ubC9kb2NzL29yaWVudGF0aW9uLmh0bWwjcm8nXG4gICAgfSxcbiAgICBmbGlwOiB7XG4gICAgICAgIHJlZ2V4OiAnZmxpcCcsXG4gICAgICAgIHRpdGxlOiAnRmxpcCcsIGV4YW1wbGU6ICdmbGlwJywgbm90ZTogJycsIGRvY3M6ICdodHRwczovL2ltYWdlcy53ZXNlcnYubmwvZG9jcy9vcmllbnRhdGlvbi5odG1sI2ZsaXAnXG4gICAgfSxcbiAgICBmbG9wOiB7XG4gICAgICAgIHJlZ2V4OiAnZmxvcCcsXG4gICAgICAgIHRpdGxlOiAnRmxvcCcsIGV4YW1wbGU6ICdmbG9wJywgbm90ZTogJycsIGRvY3M6ICdodHRwczovL2ltYWdlcy53ZXNlcnYubmwvZG9jcy9vcmllbnRhdGlvbi5odG1sI2Zsb3AnXG4gICAgfSxcblxuICAgIGlsOiB7XG4gICAgICAgIHJlZ2V4OiAnaWwnLFxuICAgICAgICB0aXRsZTogJ0ludGVybGFjZWQvUHJvZ3Jlc3NpdmUnLCBleGFtcGxlOiAnaWwnLCBzZWN0aW9uOiAnT3B0aW1pemF0aW9uL0NvbnZlcnNpb24nLCBzZWN0aW9uTGluazogJ2h0dHBzOi8vaW1hZ2VzLndlc2Vydi5ubC9kb2NzL2Zvcm1hdC5odG1sI2FkYXB0aXZlLWZpbHRlcidcbiAgICB9LFxuICAgIGFmOiB7XG4gICAgICAgIHJlZ2V4OiAnYWYnLFxuICAgICAgICB0aXRsZTogJ0FkYXB0YXRpdmUgRmlsdGVyJywgZG9jczogJ2h0dHBzOi8vaW1hZ2VzLndlc2Vydi5ubC9kb2NzL2Zvcm1hdC5odG1sI2FkYXB0aXZlLWZpbHRlcicsIGV4YW1wbGU6ICdhZidcbiAgICB9LFxuICAgIHE6IHtcbiAgICAgICAgcmVnZXg6ICcoPzpxfHF1YWxpdHkpPVswLTkuXSsnLFxuICAgICAgICB0aXRsZTogJ1F1YWxpdHknLCBkb2NzOiAnaHR0cHM6Ly9pbWFnZXMud2VzZXJ2Lm5sL2RvY3MvZm9ybWF0Lmh0bWwjcXVhbGl0eScsIGV4YW1wbGU6ICdxPTgwJ1xuICAgIH0sXG4gICAgbDoge1xuICAgICAgICByZWdleDogJ2w9WzAtOV0nLFxuICAgICAgICB0aXRsZTogJ0NvbXByZXNzaW9uIExldmVsJywgZG9jczogJ2h0dHBzOi8vaW1hZ2VzLndlc2Vydi5ubC9kb2NzL2Zvcm1hdC5odG1sI2NvbXByZXNzaW9uLWxldmVsJywgZXhhbXBsZTogJ2w9NidcbiAgICB9LFxuICAgIG46IHtcbiAgICAgICAgcmVnZXg6ICduPVswLTldKycsXG4gICAgICAgIHRpdGxlOiAnTnVtYmVyIG9mIFBhZ2VzJywgZG9jczogJ2h0dHBzOi8vaW1hZ2VzLndlc2Vydi5ubC9kb2NzL2Zvcm1hdC5odG1sI251bWJlci1vZi1wYWdlcycsIGV4YW1wbGU6ICduPTAnXG4gICAgfSxcbiAgICBwYWdlOiB7XG4gICAgICAgIHJlZ2V4OiAncGFnZT1bMC05XSsnLFxuICAgICAgICB0aXRsZTogJ1BhZ2UnLCBkb2NzOiAnaHR0cHM6Ly9pbWFnZXMud2VzZXJ2Lm5sL2RvY3MvZm9ybWF0Lmh0bWwjcGFnZScsIGV4YW1wbGU6ICdwYWdlPTEnXG4gICAgfSxcbiAgICBvdXRwdXQ6IHtcbiAgICAgICAgcmVnZXg6ICcoPzpvdXRwdXR8Zm9ybWF0KT0oPzphdXRvfGpzb258cG5nfGpwZ3xnaWZ8dGlmZnx3ZWJwfGpwZWcpJyxcbiAgICAgICAgdGl0bGU6ICdPdXRwdXQnLCBkb2NzOiAnaHR0cHM6Ly9pbWFnZXMud2VzZXJ2Lm5sL2RvY3MvZm9ybWF0Lmh0bWwjb3V0cHV0JywgZXhhbXBsZTogJ291dHB1dD1wbmcnXG4gICAgfSxcblxuXG4gICAgY3c6IHtcbiAgICAgICAgcmVnZXg6ICdjdz1bMC05XSsnLFxuICAgICAgICB0aXRsZTogJ0Nyb3Agd2lkdGgnLCBleGFtcGxlOiAnY3c9MjAwJywgc2VjdGlvbjogJ0Nyb3AnLCBzZWN0aW9uTGluazogJ2h0dHBzOi8vaW1hZ2VzLndlc2Vydi5ubC9kb2NzL2Nyb3AuaHRtbCNyZWN0YW5nbGUtY3JvcCdcbiAgICB9LFxuICAgIGNoOiB7XG4gICAgICAgIHJlZ2V4OiAnY2g9WzAtOV0rJyxcbiAgICAgICAgdGl0bGU6ICdDcm9wIGhlaWdodCcsIGV4YW1wbGU6ICdjaD0xMDAnXG4gICAgfSxcbiAgICBjeDoge1xuICAgICAgICByZWdleDogJ2N4PVswLTldKycsXG4gICAgICAgIHRpdGxlOiAnQ3JvcCB4JywgZXhhbXBsZTogJ2N4PTEwJ1xuICAgIH0sXG4gICAgY3k6IHtcbiAgICAgICAgcmVnZXg6ICdjeT1bMC05XSsnLFxuICAgICAgICB0aXRsZTogJ0Nyb3AgeScsIGV4YW1wbGU6ICdjeT0xMCdcbiAgICB9LFxuICAgIGE6IHtcbiAgICAgICAgcmVnZXg6ICdhPVthLXotXSsnLFxuICAgICAgICB0aXRsZTogJ0FsaWdubWVudCcsIGV4YW1wbGU6ICdhPWNlbnRlcicsIGRvY3M6ICdodHRwczovL2ltYWdlcy53ZXNlcnYubmwvZG9jcy9jcm9wLmh0bWwjYWxpZ25tZW50LXBvc2l0aW9uJ1xuICAgIH0sXG4gICAgcHJlY3JvcDoge1xuICAgICAgICByZWdleDogJ3ByZWNyb3AnLFxuICAgICAgICB0aXRsZTogJ0Nyb3AgYXBwbGllZCBiZWZvcmUgcmVzaXppbmcnLCBleGFtcGxlOiAncHJlY3JvcCdcbiAgICB9LFxuICAgIGNiZzoge1xuICAgICAgICByZWdleDogJ2NiZz1bYS16MC05QS1aXSsnLFxuICAgICAgICB0aXRsZTogJ0JhY2tncm91bmQgQ29sb3InLCBleGFtcGxlOiAnY2JnPUFBMDBDQycsIG5vdGU6ICdBcHBsaWVzIHRvIFwiY3JvcHBlZFwiIHNwYWNlIHdoZW4gZml0PUNvbnRhaW4nXG4gICAgfSxcbiAgICB0cmltOiB7XG4gICAgICAgIHJlZ2V4OiAndHJpbSg/Oj1bMC05XSspPycsXG4gICAgICAgIHRpdGxlOiAnVHJpbScsIGV4YW1wbGU6ICd0cmltJywgZG9jczogJ2h0dHBzOi8vaW1hZ2VzLndlc2Vydi5ubC9kb2NzL2Nyb3AuaHRtbCN0cmltJ1xuICAgIH0sXG5cbiAgICBjb246IHtcbiAgICAgICAgcmVnZXg6ICdjb249WzAtOV0rJyxcbiAgICAgICAgdGl0bGU6ICdDb250cmFzdCcsIGV4YW1wbGU6ICdjb249MycsIHNlY3Rpb246ICdGaWx0ZXJzJywgbm90ZTogJydcbiAgICB9LFxuICAgIGJnOiB7XG4gICAgICAgIHJlZ2V4OiAnYmc9W2EtejAtOUEtWl0rJyxcbiAgICAgICAgdGl0bGU6ICdCYWNrZ3JvdW5kIENvbG9yJywgZG9jczogJ2h0dHBzOi8vaW1hZ2VzLndlc2Vydi5ubC9kb2NzL2FkanVzdG1lbnQuaHRtbCNiYWNrZ3JvdW5kJywgZXhhbXBsZTogJ2JnPUNDQUEwMCcsIG5vdGU6ICcnXG4gICAgfSxcbiAgICBibHVyOiB7XG4gICAgICAgIHJlZ2V4OiAnYmx1cig/Oj1bMC05XSspPycsXG4gICAgICAgIHRpdGxlOiAnQmx1cicsIGV4YW1wbGU6ICdibHVyPTInLCBkb2NzOiAnaHR0cHM6Ly9pbWFnZXMud2VzZXJ2Lm5sL2RvY3MvYWRqdXN0bWVudC5odG1sI2JsdXInLCBub3RlOiAnJ1xuICAgIH0sXG4gICAgZmlsdDoge1xuICAgICAgICByZWdleDogJ2ZpbHQ9W2Etel0rJyxcbiAgICAgICAgdGl0bGU6ICdGaWx0ZXInLCBleGFtcGxlOiAnZmlsdD1zZXBpYScsIG5vdGU6ICcnXG4gICAgfSxcbiAgICBmaXQ6IHtcbiAgICAgICAgcmVnZXg6ICdmaXQ9KD86Y29udGFpbnxjb3ZlcnxmaWxsfGluc2lkZXxvdXRzaXplKScsXG4gICAgICAgIHRpdGxlOiAnRml0JywgZG9jczogJ2h0dHBzOi8vaW1hZ2VzLndlc2Vydi5ubC9kb2NzL2ZpdC5odG1sI2luc2lkZScsIGV4YW1wbGU6ICdmaXQ9Y29udGFpbicsIG5vdGU6ICcnXG4gICAgfSxcbiAgICBnYW06IHtcbiAgICAgICAgcmVnZXg6ICdnYW09WzAtOS4tXSsnLFxuICAgICAgICB0aXRsZTogJ0dhbW1hJywgZXhhbXBsZTogJ2dhbT0xJywgZG9jczogJ2h0dHBzOi8vaW1hZ2VzLndlc2Vydi5ubC9kb2NzL2FkanVzdG1lbnQuaHRtbCNnYW0nLCBub3RlOiAnJ1xuICAgIH0sXG4gICAgaHVlOiB7XG4gICAgICAgIHJlZ2V4OiAnaHVlPVswLTkuLV0rJyxcbiAgICAgICAgdGl0bGU6ICdIdWUnLCBleGFtcGxlOiAnaHVlPTE4MCcsIGRvY3M6ICdodHRwczovL2ltYWdlcy53ZXNlcnYubmwvZG9jcy9hZGp1c3RtZW50Lmh0bWwjaHVlJywgbm90ZTogJydcbiAgICB9LFxuICAgIG1vZDoge1xuICAgICAgICByZWdleDogJ21vZD1bMC05Li1dKycsXG4gICAgICAgIHRpdGxlOiAnQnJpZ2h0bmVzcycsIGV4YW1wbGU6ICdtb2Q9MicsIGRvY3M6ICdodHRwczovL2ltYWdlcy53ZXNlcnYubmwvZG9jcy9hZGp1c3RtZW50Lmh0bWwjbW9kJywgbm90ZTogJydcbiAgICB9LFxuICAgIHNhdDoge1xuICAgICAgICByZWdleDogJ3NhdD1bMC05Li1dKycsXG4gICAgICAgIHRpdGxlOiAnU2F0dXJhdGlvbicsIGV4YW1wbGU6ICdzYXQ9NTAnLCBkb2NzOiAnaHR0cHM6Ly9pbWFnZXMud2VzZXJ2Lm5sL2RvY3MvYWRqdXN0bWVudC5odG1sI3NhdCcsIG5vdGU6ICcnXG4gICAgfSxcbiAgICBzaGFycDoge1xuICAgICAgICByZWdleDogJ3NoYXJwKD86PVswLTldKyk/JyxcbiAgICAgICAgdGl0bGU6ICdTaGFycGVuJywgZG9jczogJ2h0dHBzOi8vaW1hZ2VzLndlc2Vydi5ubC9kb2NzL2FkanVzdG1lbnQuaHRtbCNzaGFycGVuJywgZXhhbXBsZTogJ3NoYXJwPTInLCBub3RlOiAnJ1xuICAgIH0sXG4gICAgdGludDoge1xuICAgICAgICByZWdleDogJ3RpbnQ9W2EtejAtOUEtWl0rJyxcbiAgICAgICAgdGl0bGU6ICdUaW50JywgZXhhbXBsZTogJ3RpbnQ9cmVkJywgZG9jczogJ2h0dHBzOi8vaW1hZ2VzLndlc2Vydi5ubC9kb2NzL2FkanVzdG1lbnQuaHRtbCN0aW50Jywgbm90ZTogJydcbiAgICB9LFxufVxuXG5jb25zdCBkZXZpY2VIaW50czogUmVjb3JkPCd2dycgfCAndmgnIHwgJ2RwcicsIHsgdGl0bGU6IHN0cmluZywgcmVnZXg6IHN0cmluZywgbm90ZT86IHN0cmluZyB9PiA9IHtcbiAgICB2dzogeyB0aXRsZTogJ3ZpZXdwb3J0IHdpZHRoJywgcmVnZXg6ICd2dyg9WzAtOS5dKyk/JyB9LFxuICAgIHZoOiB7IHRpdGxlOiAndmlld3BvcnQgaGVpZ2h0JywgcmVnZXg6ICd2aCg9WzAtOS5dKyk/JyB9LFxuICAgIGRwcjogeyB0aXRsZTogJ0RldmljZSBQaXhlbCBSYXRpbycsIHJlZ2V4OiAnZHByJywgbm90ZTogJ1Bhc3NpbmcgYGRwcmAgd2l0aG91dCB2YWx1ZSB3aWxsIHVzZSBoaW50ZWQgRFBSIGZyb20gY2xpZW50JyB9XG59XG5jb25zdCB0cmFuc2Zvcm1LZXkgPSBPYmplY3Qua2V5cyhBdmFpbGFibGVUcmFuc2Zvcm1zKVxuICAgIC5jb25jYXQoXG4gICAgICAgIE9iamVjdC5rZXlzKEZvcm1hdEFsaWFzZXMpLFxuICAgICAgICBPYmplY3Qua2V5cyhBbGlnbm1lbnRBbGlhc2VzKSxcbiAgICAgICAgT2JqZWN0LmtleXMoRml0QWxpYXNlcyksXG4gICAgICAgIE9iamVjdC5rZXlzKGRldmljZUhpbnRzKSxcbiAgICAgICAgLy8gdGhlc2UgYXJlIGFjY2VwdGVkIGp1c3QgZm9yIFJDXG4gICAgICAgIFsnaHR0cCcsICdodHRwcyddXG4gICAgKSxcbiAgICB2YWxpZFRyYW5zZm9ybXMgPSBPYmplY3QudmFsdWVzKEF2YWlsYWJsZVRyYW5zZm9ybXMpLm1hcCh0eCA9PiB0eC5yZWdleClcbiAgICAgICAgLmNvbmNhdChPYmplY3QudmFsdWVzKGRldmljZUhpbnRzKS5tYXAoaGludCA9PiBoaW50LnJlZ2V4KSxcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKEZpdEFsaWFzZXMpLFxuICAgICAgICAgICAgT2JqZWN0LmtleXMoRm9ybWF0QWxpYXNlcyksXG4gICAgICAgICAgICAvLyB0aGVzZSBhcmUgYWNjZXB0ZWQganVzdCBmb3IgUkNcbiAgICAgICAgICAgIFsnaHR0cCcsICdodHRwcycsICdfJ11cbiAgICAgICAgKS5qb2luKCd8Jyk7XG5jb25zdCB0cmFuc2Zvcm1hdGlvbnNHcm91cE9sZCA9IGAoPzx0cmFuc2Zvcm1hdGlvbnM+KF8/KCR7dHJhbnNmb3JtS2V5LmpvaW4oJ3wnKX0pPyg9W146LF8vXSopKikrKWAsXG4gICAgdHJhbnNmb3JtYXRpb25zR3JvdXAgPSBgKD88dHJhbnNmb3JtYXRpb25zPigoJHt2YWxpZFRyYW5zZm9ybXN9KShbXyw7Ol1cXFxcMSkqKSspYCxcbiAgICBvcmlnaW5ob3N0R3JvdXAgPSAnKD88b3JpZ2luaG9zdD4oc2VsZnwoW2EtejAtOTpAXy1dKykoXFxcXC5bYS16MC05Xy1dKyl7MSwyfShcXFxcLlthLXowLTlfLV0rKT8oXFxcXDpcXFxcZCspPykpJyxcbiAgICBwYXRoTmFtZUdyb3VwID0gYCg/PHBhdGhuYW1lPiguKikpYDtcblxuXG5leHBvcnQgY2xhc3MgUmVzaXplclJvdXRlciB7XG4gICAgaGFuZGxlOiAocmVxdWVzdDogUmVxdWVzdCwgLi4uZXh0cmE6IGFueSkgPT4gYW55XG4gICAgcHVibGljIHN0YXRpYyB0cmFuc2Zvcm1hdGlvbnNHcm91cFJlZ2V4ID0gbmV3IFJlZ0V4cChgXFwvJHt0cmFuc2Zvcm1hdGlvbnNHcm91cH1cXC8oaHR0cHM/OlxcL1xcLyk/JHtvcmlnaW5ob3N0R3JvdXB9XFwvJHtwYXRoTmFtZUdyb3VwfWApXG4gICAgcHVibGljIHN0YXRpYyB0cmFuc2Zvcm1hdGlvbnNHcm91cE9sZFJlZ2V4ID0gbmV3IFJlZ0V4cChgXFwvJHt0cmFuc2Zvcm1hdGlvbnNHcm91cE9sZH1cXC8oaHR0cHM/OlxcL1xcLyk/JHtvcmlnaW5ob3N0R3JvdXB9XFwvJHtwYXRoTmFtZUdyb3VwfWApXG4gICAgcHVibGljIHN0YXRpYyB0cmFuc2Zvcm1hdGlvbnNHcm91cE5vRG9tYWluUmVnZXggPSBuZXcgUmVnRXhwKGBcXC8ke3RyYW5zZm9ybWF0aW9uc0dyb3VwfVxcLyg/PGR1bW15aG9zdD4oW2EtejAtOV8tXVteL10qKSlcXC8ke3BhdGhOYW1lR3JvdXB9YClcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBSb3V0ZXJPcHRpb25zPFJlcXVlc3Q+ICYgUGFydGlhbDxFbnZXaXRoQmluZGluZ3M+KSB7XG4gICAgICAgIGNvbnN0IGRlYnVnID0gKG9wdGlvbnMgfHwge30pLkRFQlVHID8gY29uc29sZS5sb2cuYmluZCgnUmVzaXplclJvdXRlcjonKSA6ICgpID0+IHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgICAgICBkZWZhdWx0U2VhcmNoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGZpdDogJ2NvbnRhaW4nLFxuICAgICAgICAgICAgICAgIG46ICctMScsXG4gICAgICAgICAgICAgICAgbWF4YWdlOiBvcHRpb25zLk1BWF9BR0UgfHwgJzF5J1xuICAgICAgICAgICAgfSBhcyB7IGZpdDogc3RyaW5nLCBuOiBzdHJpbmcsIG1heGFnZTogc3RyaW5nIH1cblxuICAgICAgICBjb25zdCBpdHR5Um91dGVyID0gUm91dGVyPFJlcXVlc3RXaXRoUGFyYW1zPih7XG4gICAgICAgICAgICBiYXNlOiBvcHRpb25zLlJPVVRFX1BSRUZJWCB8fCBvcHRpb25zLmJhc2UsXG5cbiAgICAgICAgICAgIHJvdXRlczogW1xuICAgICAgICAgICAgICAgIFsnR0VUJywgUmVzaXplclJvdXRlci50cmFuc2Zvcm1hdGlvbnNHcm91cFJlZ2V4LCBbUmVzaXplclJvdXRlci5oYW5kbGVNYXRjaGluZ1JvdXRlKGRlYnVnLCBkZWZhdWx0U2VhcmNoUGFyYW1zKV1dLFxuICAgICAgICAgICAgICAgIFsnR0VUJywgUmVzaXplclJvdXRlci50cmFuc2Zvcm1hdGlvbnNHcm91cE9sZFJlZ2V4LCBbUmVzaXplclJvdXRlci5oYW5kbGVNYXRjaGluZ1JvdXRlKGRlYnVnLCBkZWZhdWx0U2VhcmNoUGFyYW1zKV1dLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEhhbmRsZSB0aGUgY2FzZSBpbiB3aGljaCBubyBkb21haW4gZ3JvdXAgY291bGQgYmUgbWF0Y2hlZC4gQXNzdW1lIGl0cyBwb2ludGluZyB0byB0aGUgc2FtZSBvcmlnaW4uXG4gICAgICAgICAgICAgICAgICogVGhlIFwiZHVtbXkgaG9zdFwiIGlzIGp1c3QgcGFydCBvZiB0aGUgaW1hZ2UgcGF0aG5hbWVcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIFsnR0VUJywgUmVzaXplclJvdXRlci50cmFuc2Zvcm1hdGlvbnNHcm91cE5vRG9tYWluUmVnZXgsIFtSZXNpemVyUm91dGVyLmhhbmRsZU1hdGNoaW5nUm91dGUoZGVidWcsIGRlZmF1bHRTZWFyY2hQYXJhbXMpXV0sXG4gICAgICAgICAgICBdXG4gICAgICAgIH0pIGFzIFJvdXRlcjxSZXF1ZXN0V2l0aFBhcmFtcz5cblxuICAgICAgICAvKipcbiAgICAgICAgICogXG4gICAgICAgICAqL1xuICAgICAgICBpdHR5Um91dGVyLmdldCgnZmF2aWNvbionLCAocmVxOiBSZXF1ZXN0KSA9PiBuZXcgUmVzcG9uc2UoZmFsbGJhY2tTdmcoKSwgeyBoZWFkZXJzOiB7ICdYLVJlcXVlc3RlZCc6IHJlcS51cmwgfSB9KSlcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXF1ZXN0cyBub3QgaGFuZGxlZCBhdCB0aGlzIHBvaW50IGFyZSBmb3J3YXJkZWQgYXMtaXNcbiAgICAgICAgICovXG5cbiAgICAgICAgdGhpcy5oYW5kbGUgPSAocmVxOiBSZXF1ZXN0V2l0aFBhcmFtcywgY3R4OiBDb250ZXh0KSA9PiBpdHR5Um91dGVyLmhhbmRsZShyZXEsIGN0eClcblxuICAgICAgICByZXR1cm4gbmV3IFByb3h5KGl0dHlSb3V0ZXIsIHtcbiAgICAgICAgICAgIGdldDogKG9iaiwgcHJvcCkgPT4gKC4uLmFyZ3M6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wID09PSAnaGFuZGxlJyA/IG9iai5nZXQoJyonLCAocmVxMjogUmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogUHJldmVudCBpbmZpbml0ZSBmYXZpY29uIGxvb3BcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXEyLmhlYWRlcnMuZ2V0KCdyZWZlcmVyJyk/LmluY2x1ZGVzKCdmYXZpY29uLmljbycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHsgc3RhdHVzOiAyMDQgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh7IHJlc2l6ZVJvdXRlckNhdGNoQWxsOiByZXEyLnVybCB9KVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaChyZXEyKVxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgfSkuaGFuZGxlKC4uLmFyZ3MpIDogb2JqW3Byb3BdKC4uLmFyZ3MpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyByb3V0ZSBwYXJhbXMgaW4gb3JkZXIgdG8gZXh0cmFjdCB0cmFuc2Zvcm1hdGlvbnMgYXMgYW4gT2JqZWN0XG4gICAgICogdG8gcGFzcyB0byB0aGUgbmV4dCBoYW5kbGVyXG4gICAgICogU2hvcnRoYW5kIHN5bnRheCBmb3Igb3V0cHV0IGZvcm1hdHMgaXMgdHJhbnNsYXRlZCB0byBpdHMgY2Fub25pY2FsIGZvcm0gKG91dHB1dD08Zm9ybWF0PilcbiAgICAgKiBTaG9ydGhhbmQgc3ludGF4IGZvciBmaXQgdHlwZXMgaXMgdHJhbnNsYXRlZCB0byBpdHMgY2Fub25pY2FsIGZvcm0gKGZpdD08Zml0IHR5cGU+KVxuICAgICogXG4gICAgKiBTZWFyY2hwYXJhbXMsIGlmIHRoZXkgYXJlIGFtb25nIHRoZSBzdXBwb3J0ZWQgdHJhbnNmb3JtYXRpb25zLCB3aWxsIGJlIG1lcmdlZCBpbnRvIHRoZSBPYmplY3QsIG92ZXJyaWRpbmcgcm91dGUgcGFyYW1zIFxuICAgICogV2hlbiB0aGV5IGFyZW4ndCBhIHJlY29nbml6YWJsZSB0cmFuc2Zvcm1hdGlvbiwgdGhleSBhcmUgc3RvcmVkIChhbmQgcGFzc2VkIHRvIHRoZSBuZXh0IGhhbmRsZXIpIGFzIGEgc2VwYXJhdGUgb2JqZWN0XG4gICAgKiBUaGF0IG9iamVjdCB3aWxsIGJlIHVsdGltYXRlbHkgYWRkZWQgdG8gdGhlIHJlcXVlc3QgdG8gV2VTZXJ2ZSwgYnV0IHdvbid0IGJlIHBhcnQgb2YgdGhlIGNhbm9uaWNhbCBuaWNlIFVSTCB3ZSB1c2UgYXMgXG4gICAgKiBjYWNoZS1rZXkuIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBoYW5kbGVNYXRjaGluZ1JvdXRlKFxuICAgICAgICBkZWJ1Z0ZuOiB7ICguLi5hdHRyczogYW55W10pOiB2b2lkIH0gPSAoLi4uYXR0cnM6IGFueVtdKSA9PiB7IHJldHVybiBhdHRycyB9LFxuICAgICAgICBkZWZhdWx0U2VhcmNoUGFyYW1zOiB7IGZpdDogc3RyaW5nLCBuOiBzdHJpbmcsIG1heGFnZTogc3RyaW5nIH0gPSB7XG4gICAgICAgICAgICBmaXQ6ICdjb250YWluJyxcbiAgICAgICAgICAgIG46ICctMScsXG4gICAgICAgICAgICBtYXhhZ2U6ICcxeSdcbiAgICAgICAgfVxuICAgICk6IHsgKHJlcTogUmVxdWVzdFdpdGhQYXJhbXMsIGN0eDogQ29udGV4dCk6IFByb21pc2U8UmVzcG9uc2U+IH0ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcmVxOiBSZXF1ZXN0V2l0aFBhcmFtcyxcblxuICAgICAgICAgICAgY3R4OiBDb250ZXh0XG4gICAgICAgICk6IFByb21pc2U8UmVzcG9uc2U+ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxLnVybCksXG4gICAgICAgICAgICAgICAgZGVidWcgPSBkZWJ1Z0ZuXG4gICAgICAgICAgICByZXEucGFyYW1zID0gcmVxLnBhcmFtcyB8fCB7fSBhcyBUSW1hZ2VQYXJhbWV0ZXJzO1xuXG4gICAgICAgICAgICByZXEucGFyYW1zLm9yaWdpbiA9IHVybC5vcmlnaW47XG4gICAgICAgICAgICBpZiAocmVxLnBhcmFtcy5kdW1teWhvc3QpIHtcbiAgICAgICAgICAgICAgICByZXEucGFyYW1zLnBhdGhuYW1lID0gYCR7cmVxLnBhcmFtcy5kdW1teWhvc3R9LyR7cmVxLnBhcmFtcy5wYXRobmFtZX1gXG4gICAgICAgICAgICAgICAgcmVxLnBhcmFtcy5vcmlnaW5ob3N0ID0gdXJsLmhvc3RcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChbJ3NlbGYnLCAnMC4wJ10uaW5jbHVkZXMocmVxLnBhcmFtcy5vcmlnaW5ob3N0KSB8fCByZXEucGFyYW1zLm9yaWdpbmhvc3QubGVuZ3RoIDwgNCkge1xuICAgICAgICAgICAgICAgIHJlcS5wYXJhbXMub3JpZ2luaG9zdCA9IHVybC5ob3N0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRlYnVnKHtcbiAgICAgICAgICAgICAgICAgICAgLy9jZjogY2YsIHJlZmVycmVyUG9saWN5LCBvcmlnaW46IHVybC5vcmlnaW4sIGhvc3Q6IHVybC5ob3N0LCBob3N0bmFtZTogdXJsLmhvc3RuYW1lLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5ob3N0OiByZXEucGFyYW1zLm9yaWdpbmhvc3QsXG4gICAgICAgICAgICAgICAgICAgIHBhdGhuYW1lOiByZXEucGFyYW1zLnBhdGhuYW1lLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1hdGlvbnM6IHJlcS5wYXJhbXMudHJhbnNmb3JtYXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAvLyBoZWFkZXJzOiBPYmplY3QuZnJvbUVudHJpZXMocmVxLmhlYWRlcnMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgc2VhcmNocGFyYW1zIGVxdWl2YWxlbnQgb2YgdGhlIHRyYW5zZm9ybSBzbHVnIHRoYXQgY2FtZSBpbiB0aGUgcmVxdWVzdFxuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhTZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHJlcS5wYXJhbXMudHJhbnNmb3JtYXRpb25zLnJlcGxhY2UoL1srXy8sXS9nLCAnJicpKVxuXG4gICAgICAgICAgICAgICAgLy8gYXBwZW5kIHRoZSBhY3R1YWwgc2VhcmNoUGFyYW1zXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIHVybC5zZWFyY2hQYXJhbXMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGhTZWFyY2hQYXJhbXMuc2V0KGtleSwgdmFsdWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlcS5wYXJhbXMgPSBSZXNpemVyUm91dGVyLm5vcm1hbGl6ZVJlcXVlc3RQYXJhbXMocmVxLCBwYXRoU2VhcmNoUGFyYW1zKVxuICAgICAgICAgICAgICAgIHJlcS5wYXJhbXMuZGVmYXVsdHMgPSBkZWZhdWx0U2VhcmNoUGFyYW1zXG4gICAgICAgICAgICAgICAgcmVxLnBhcmFtcy5wcm90b2NvbCA9IHJlcS5wYXJhbXMucHJvdG9jb2wgfHwgJ2h0dHBzJztcblxuICAgICAgICAgICAgICAgIGlmICghcmVxLnBhcmFtcy5vcmlnaW5ob3N0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoanNvbihyZXEucGFyYW1zKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGVXZXNlcnZlUmVxdWVzdChyZXEsIGN0eCwgZGVidWcpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgUmVzcG9uc2UoKGUgYXMgRXJyb3IpLm1lc3NhZ2UsIHsgc3RhdHVzOiA1MDAgfSkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cbiAgICBzdGF0aWMgbm9ybWFsaXplUmVxdWVzdFBhcmFtcyhyZXE6IFJlcXVlc3RXaXRoUGFyYW1zLCBwYXRoU2VhcmNoUGFyYW1zOiBVUkxTZWFyY2hQYXJhbXMpOiBUSW1hZ2VQYXJhbWV0ZXJzIHtcbiAgICAgICAgbGV0IHBhcmFtcyA9IHJlcS5wYXJhbXMgYXMgVEltYWdlUGFyYW1ldGVyc1xuICAgICAgICBwYXJhbXMuZGlzY2FyZGVkID0ge30gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgICAgcGFyYW1zLnRyYW5zZm9ybXMgPSB7fSBhcyBSZWNvcmQ8c3RyaW5nICYga2V5b2YgSWRlZmF1bHRTZWFyY2hQYXJhbXMsIHN0cmluZz47XG5cbiAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIHBhdGhTZWFyY2hQYXJhbXMuZW50cmllcygpKSB7XG4gICAgICAgICAgICBrZXkgPSBrZXkucmVwbGFjZSgnZm9ybWF0JywgJ291dHB1dCcpLnJlcGxhY2UoJ3dpZHRoJywgJ3cnKS5yZXBsYWNlKCdoZWlnaHQnLCAnaCcpLnJlcGxhY2UoJ3F1YWxpdHknLCAncScpXG4gICAgICAgICAgICBpZiAoWydodHRwJywgJ2h0dHBzJ10uaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5wcm90b2NvbCA9IGtleTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LmtleXMoQXZhaWxhYmxlVHJhbnNmb3JtcykuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIHBhcmFtcy50cmFuc2Zvcm1zW2tleSBhcyBrZXlvZiBJZGVmYXVsdFNlYXJjaFBhcmFtc10gPSB2YWx1ZSA/PyB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChPYmplY3Qua2V5cyhGb3JtYXRBbGlhc2VzKS5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnRyYW5zZm9ybXMub3V0cHV0ID0ga2V5O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChPYmplY3Qua2V5cyhGaXRBbGlhc2VzKS5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnRyYW5zZm9ybXMuZml0ID0ga2V5O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChPYmplY3Qua2V5cyhBbGlnbm1lbnRBbGlhc2VzKS5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnRyYW5zZm9ybXMuYSA9IGtleTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmRpc2NhcmRlZFtrZXkgYXMgc3RyaW5nXSA9IHZhbHVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy50cmFuc2Zvcm1zWydkcHInXSA9PT0gJycgJiYgcmVxLmhlYWRlcnMuaGFzKCdkcHInKSkge1xuICAgICAgICAgICAgcGFyYW1zLnRyYW5zZm9ybXNbJ2RwciddID0gU3RyaW5nKE51bWJlcihyZXEuaGVhZGVycy5nZXQoJ2RwcicpKSB8fCAxKVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbXMudHJhbnNmb3Jtc1sndHJpbSddID09PSAnJykge1xuICAgICAgICAgICAgcGFyYW1zLnRyYW5zZm9ybXNbJ3RyaW0nXSA9IFwiMTBcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLmRpc2NhcmRlZC52dyAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHZ3ID0gTnVtYmVyKHJlcS5oZWFkZXJzLmdldCgndmlld3BvcnQtd2lkdGgnKSB8fCByZXEuaGVhZGVycy5nZXQoJ3NlYy1jaC12aWV3cG9ydC13aWR0aCcpIHx8IHJlcS5oZWFkZXJzLmdldCgnc2VjLWNoLXdpZHRoJykgfHwgcmVxLmhlYWRlcnMuZ2V0KCd3aWR0aCcpKVxuICAgICAgICAgICAgaWYgKHZ3IHx8ICFpc05hTih2dykpIHtcbiAgICAgICAgICAgICAgICBsZXQgbXVsdGlwbGllciA9IE51bWJlcihwYXJhbXMuZGlzY2FyZGVkLnZ3KSB8fCAxXG4gICAgICAgICAgICAgICAgbXVsdGlwbGllciA9IE1hdGgubWluKDAsIE1hdGgubWF4KDEsIG11bHRpcGxpZXIpKVxuICAgICAgICAgICAgICAgIC8vICBkZWJ1Zyh7IHZ3LCBtdWx0aXBsaWVyIH0pXG4gICAgICAgICAgICAgICAgcGFyYW1zLnRyYW5zZm9ybXMudyA9IFN0cmluZyhNYXRoLmNlaWwobXVsdGlwbGllciAqIHZ3KSkgLy8gMTAgcHggaW50ZXJ2YWxcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy5kaXNjYXJkZWQudmggIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICBjb25zdCB2aCA9IE51bWJlcihyZXEuaGVhZGVycy5nZXQoJ3NlYy1jaC12aWV3cG9ydC1oZWlnaHQnKSlcbiAgICAgICAgICAgIGlmICh2aCAmJiAhaXNOYU4odmgpKSB7XG4gICAgICAgICAgICAgICAgbGV0IG11bHRpcGxpZXIgPSBOdW1iZXIocGFyYW1zLmRpc2NhcmRlZC52aCkgfHwgMVxuICAgICAgICAgICAgICAgIG11bHRpcGxpZXIgPSBNYXRoLm1pbigwLCBNYXRoLm1heCgxLCBtdWx0aXBsaWVyKSlcbiAgICAgICAgICAgICAgICAvLyAgZGVidWcoeyB2aCwgbXVsdGlwbGllciB9KVxuICAgICAgICAgICAgICAgIHBhcmFtcy50cmFuc2Zvcm1zLmggPSBTdHJpbmcoTWF0aC5jZWlsKG11bHRpcGxpZXIgKiB2aCkpIC8vIDEwIHB4IGludGVydmFsXG4gICAgICAgICAgICB9XG5cblxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJhbXMgYXMgVEltYWdlUGFyYW1ldGVyc1xuICAgIH1cbn1cblxuXG5cbmV4cG9ydCBmdW5jdGlvbiBmYWxsYmFja1N2ZygpOiBzdHJpbmcge1xuICAgIHJldHVybiBgPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48c3ZnIHdpZHRoPVwiNTAuOG1tXCIgaGVpZ2h0PVwiNDkuOThtbVwiIHZpZXdCb3g9XCIwIDAgMTgwIDE3Ny4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuPGcgdHJhbnNmb3JtPVwibWF0cml4KDMuOTIxMiAwIDAgMy45MjEyIDYxODIuNyAxMzk1LjcpXCI+XG48cmVjdCB4PVwiLTE1NzRcIiB5PVwiLTM1My4xNVwiIHdpZHRoPVwiNDAuMzMxXCIgaGVpZ2h0PVwiMzkuNTlcIiByeD1cIjIuNTk1NVwiIHJ5PVwiMi41OTU1XCIgZmlsbD1cIiNlMGZmZmZcIiBvcGFjaXR5PVwiLjg1N1wiIHN0cm9rZT1cIiMwMDYzYmJcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNzEwOVwiLz5cbjx0ZXh0IHg9XCItMTU1My44MjI4XCIgeT1cIi0zNDEuNjgyNVwiIGZpbGw9XCIjMTcxZTMxXCIgZm9udC1mYW1pbHk9XCJzYW5zLXNlcmlmXCIgZm9udC1zaXplPVwiOS41OTgxcHhcIiBmb250LXdlaWdodD1cImJvbGRcIiBsZXR0ZXItc3BhY2luZz1cIjBweFwiIHN0cm9rZS13aWR0aD1cIi4zOTgyMVwiIHRleHQtYW5jaG9yPVwibWlkZGxlXCIgd29yZC1zcGFjaW5nPVwiMHB4XCIgc3R5bGU9XCJmb250LWZlYXR1cmUtc2V0dGluZ3M6bm9ybWFsO2ZvbnQtdmFyaWFudC1jYXBzOm5vcm1hbDtmb250LXZhcmlhbnQtbGlnYXR1cmVzOm5vcm1hbDtmb250LXZhcmlhbnQtbnVtZXJpYzpub3JtYWw7bGluZS1oZWlnaHQ6MS4yNVwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+PHRzcGFuIHg9XCItMTU1My44MjI4XCIgeT1cIi0zNDEuNjgyNVwiIHRleHQtYWxpZ249XCJjZW50ZXJcIj5DVE9obTwvdHNwYW4+PHRzcGFuIHg9XCItMTU1My44MjI4XCIgeT1cIi0zMjkuNjg0ODFcIiB0ZXh0LWFsaWduPVwiY2VudGVyXCI+RWRnZTwvdHNwYW4+PHRzcGFuIHg9XCItMTU1My44MjI4XCIgeT1cIi0zMTcuNjg3MTNcIiB0ZXh0LWFsaWduPVwiY2VudGVyXCI+UmVzaXplcjwvdHNwYW4+PC90ZXh0PlxuPC9nPlxuPC9zdmc+YDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gY29tcHV0ZVdlc2VydmVSZXF1ZXN0KFxuICAgIHJlcXVlc3Q6IFJlcXVlc3RXaXRoUGFyYW1zLFxuXG4gICAgY3R4OiBDb250ZXh0LFxuICAgIGRlYnVnOiB7ICguLi5hdHRyczogYW55W10pOiB2b2lkIH1cbik6IFByb21pc2U8UmVzcG9uc2U+IHtcbiAgICBjb25zdCB7IHRyYW5zZm9ybXMsIGRlZmF1bHRzLCBkaXNjYXJkZWQsIG9yaWdpbmhvc3QsIHByb3RvY29sLCBwYXRobmFtZSwgb3JpZ2luIH0gPSByZXF1ZXN0LnBhcmFtcyB8fCB7fSBhcyBUSW1hZ2VQYXJhbWV0ZXJzLFxuICAgICAgICB7IG1heGFnZSwgLi4ub3RoZXJEZWZhdWx0cyB9ID0gZGVmYXVsdHNcblxuICAgIGxldCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKVxuXG4gICAgdXJsLnBhdGhuYW1lID0gcGF0aG5hbWVcbiAgICB1cmwuaG9zdCA9IG9yaWdpbmhvc3RcbiAgICBsZXQgYWNjZXB0czogc3RyaW5nID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnYWNjZXB0JykgfHwgJycsXG4gICAgICAgIGZldGNoRGVzdCA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ1NlYy1GZXRjaC1EZXN0JykgfHwgJydcblxuXG5cblxuXG4gICAgbGV0IHsgZmlsZU5hbWUsIGV4dGVuc2lvbiB9ID0gZ2V0RmlsZU5hbWUodXJsKVxuICAgIGxldCBza2lwQ2FjaGUgPSB1cmwuc2VhcmNoUGFyYW1zLmhhcygnbm9jYWNoZScpXG5cblxuICAgIGxldCB1cmxQYXJhbSA9IGAke3VybC5ob3N0bmFtZX0ke3VybC5wYXRobmFtZX1gLFxuICAgICAgICB3ZXNlcnZVcmwgPSBuZXcgVVJMKCdodHRwczovL2ltYWdlcy53ZXNlcnYubmwvJyksXG4gICAgICAgIGNvbXB1dGVkU2VhcmNoUGFyYW1zID0geyAuLi5vdGhlckRlZmF1bHRzLCAuLi50cmFuc2Zvcm1zIH1cblxuXG5cbiAgICBpZiAoYWNjZXB0cy5pbmNsdWRlcygnd2VicCcpICYmIGNvbXB1dGVkU2VhcmNoUGFyYW1zLm91dHB1dCA9PT0gJ2F1dG8nKSB7XG4gICAgICAgIGNvbXB1dGVkU2VhcmNoUGFyYW1zLm91dHB1dCA9ICd3ZWJwJztcbiAgICAgICAgLy9pZiAoIWNvbXB1dGVkU2VhcmNoUGFyYW1zLnEpIHsgICAgICAgICAgICBjb21wdXRlZFNlYXJjaFBhcmFtcy5xID0gJzc1JyAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIVsndGlmZicsICdnaWYnLCAncG5nJywgJ2pwZycsICdqcGVnJywgJ3dlYnAnLCAnanNvbiddLmluY2x1ZGVzKGNvbXB1dGVkU2VhcmNoUGFyYW1zLm91dHB1dCkpIHtcbiAgICAgLyoqXG4gICAgICAqICBSZW1vdmUgb3V0cHV0IHBhcmFtZXRlciBpZiBpdCdzIG5vdCBzdXBwb3J0ZWRcbiAgICAgICovICAgbGV0IHsgb3V0cHV0OiB1bnN1cHBvcnRlZEZvcm1hdCwgLi4ub3RoZXJTZWFyY2hQYXJhbXMgfSA9IGNvbXB1dGVkU2VhcmNoUGFyYW1zXG4gICAgICAgIGRlYnVnKHVuc3VwcG9ydGVkRm9ybWF0KVxuXG4gICAgICAgIGNvbXB1dGVkU2VhcmNoUGFyYW1zID0gb3RoZXJTZWFyY2hQYXJhbXMgYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nICYga2V5b2YgSWRlZmF1bHRTZWFyY2hQYXJhbXMsIHN0cmluZz4gJiB7IG1heGFnZTogc3RyaW5nIH07XG5cbiAgICB9XG5cblxuICAgIGlmIChjb21wdXRlZFNlYXJjaFBhcmFtcy5vdXRwdXQpIHtcbiAgICAgICAgY29tcHV0ZWRTZWFyY2hQYXJhbXMub3V0cHV0ID0gY29tcHV0ZWRTZWFyY2hQYXJhbXMub3V0cHV0LnJlcGxhY2UoJ2pwZWcnLCAnanBnJylcbiAgICB9XG5cblxuXG4gICAgZm9yIChsZXQgW3BhcmFtTmFtZSwgcGFyYW1WYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoY29tcHV0ZWRTZWFyY2hQYXJhbXMpKSB7XG4gICAgICAgIHdlc2VydlVybC5zZWFyY2hQYXJhbXMuc2V0KHBhcmFtTmFtZSwgcGFyYW1WYWx1ZSk7XG4gICAgfVxuXG4gICAgd2VzZXJ2VXJsLnNlYXJjaFBhcmFtcy5zb3J0KClcbiAgICBsZXQgdHJhbnNmb3JtX3NsdWcgPSBPYmplY3QuZW50cmllcyhPYmplY3QuZnJvbUVudHJpZXMod2VzZXJ2VXJsLnNlYXJjaFBhcmFtcykpLm1hcCgoW2tleSwgdmFsXSkgPT4gYCR7a2V5fT0ke3ZhbH1gKS5zb3J0KCkuam9pbignXycpXG4gICAgbGV0IGRpc2NhcmRlZF9lbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZGlzY2FyZGVkKS5tYXAoKFtrZXksIHZhbF0pID0+IGAke2tleX09JHt2YWx9YCkuc29ydCgpLmpvaW4oJyYnKVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB0aGUgY2xlYW4sIGNhbm9uaWNhbCBhbmQgdGlkeSBVUkwgc3RyaW5nIHRoYXQgd2Ugd2lsbCBsb29rIGZvciBpbiB0aGUgY2FjaGUsXG4gICAgICogYW5kIHVzZSBpdCB0byBwZXJzaXN0IHRvIGl0IHdoZW4gbm90IGZvdW5kIGFscmVhZHlcbiAgICAgKi9cbiAgICBsZXQgY2Fub25pY2FsVmFyaWF0aW9uVVJMID0gYCR7b3JpZ2lufS8ke3RyYW5zZm9ybV9zbHVnfS8ke29yaWdpbmhvc3R9LyR7cGF0aG5hbWV9YFxuICAgIC8qKlxuICAgICAqICFleHBlcmltZW50YWxcbiAgICAgKiBhcHBlbmQgdW5rbm93biBzZWFyY2hwYXJhbXMgdG8gdGhlIGNhbm9uaWNhbCBjYW5vbmljYWxWYXJpYXRpb25VUkwgdG8gY2hlY2sgb3Igc2V0IFxuICAgICAqIGluIHRoZSBDYWNoZSBBUEksIHNpbmNlIHRoZXkgbWF5IGFsdGVyIHRoZSBmaW5hbCByZXN1bHQsIGFuZCB3ZSBzaG91bGRuJ3RcbiAgICAgKiBoYXZlIG1vcmUgdGhhbiBvbmUgcG9zc2libGUgb3V0Y29tZSBnaXZlbiBhIGNhbm9uaWNhbCBjYWNoZWQgcmVxdWVzdFxuICAgICAqL1xuICAgIGlmIChkaXNjYXJkZWRfZW50cmllcyAhPT0gJycpIHtcbiAgICAgICAgY2Fub25pY2FsVmFyaWF0aW9uVVJMID0gW1xuICAgICAgICAgICAgY2Fub25pY2FsVmFyaWF0aW9uVVJMLFxuICAgICAgICAgICAgZGVjb2RlVVJJQ29tcG9uZW50KGRpc2NhcmRlZF9lbnRyaWVzKVxuICAgICAgICBdLmpvaW4oJz8nKVxuXG4gICAgfVxuXG4gICAgdXJsUGFyYW0gPSBkZWNvZGVVUklDb21wb25lbnQodXJsUGFyYW0pXG4gICAgd2VzZXJ2VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3VybCcsIHVybFBhcmFtKTtcblxuICAgIHJldHVybiBnZXRGcm9tQ2FjaGVPclRocm93KHsgY2Fub25pY2FsVmFyaWF0aW9uVVJMLCB3ZXNlcnZVcmwsIHNraXBDYWNoZSwgZmV0Y2hEZXN0LCBkZWJ1ZyB9KVxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIHZhcmlhdGlvbiBpc24ndCBhbHJlYWR5IGluIGNhY2hlLCB3ZSBlbnRlciB0aGUgYGNhdGNoYCBibG9jay5cbiAgICAgICAgICovXG4gICAgICAgIC5jYXRjaCgoZXJyOiBFcnJvcikgPT4ge1xuXG5cbiAgICAgICAgICAgIGRlYnVnKHsgZXJyTWVzc2FnZTogZXJyLm1lc3NhZ2UsIHNraXBDYWNoZSwgZmlsZU5hbWUsIGV4dGVuc2lvbiwgY29tcHV0ZWRTZWFyY2hQYXJhbXMsIGRpc2NhcmRlZF9lbnRyaWVzLCBjYW5vbmljYWxWYXJpYXRpb25VUkwsIHByb3RvY29sLCBmZXRjaERlc3QsIHVybFBhcmFtIH0pXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFkZCBzb21lIGV4dHJhIHBhcmFtZXRlcnMgdG8gd2VzZXJ2ZVVybCB0aGF0IGRvbid0IGludGVyYWN0IHdpdGggY2FjaGUgY2Fub25pY2FsaXphdGlvblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoWydodHRwcycsICdzc2wnXS5pbmNsdWRlcyhwcm90b2NvbCkpIHdlc2VydlVybC5zZWFyY2hQYXJhbXMuc2V0KCd1cmwnLCBgc3NsOiR7dXJsUGFyYW19YCk7XG4gICAgICAgICAgICB3ZXNlcnZVcmwuc2VhcmNoUGFyYW1zLnNldCgnZmlsZW5hbWUnLCBmaWxlTmFtZSk7XG4gICAgICAgICAgICBpZiAoY29tcHV0ZWRTZWFyY2hQYXJhbXMub3V0cHV0ICYmIGNvbXB1dGVkU2VhcmNoUGFyYW1zLm91dHB1dCAhPT0gZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlbmFtZWRGaWxlbmFtZSA9IGZpbGVOYW1lLnJlcGxhY2UoYCR7ZXh0ZW5zaW9ufWAsIGAke2NvbXB1dGVkU2VhcmNoUGFyYW1zLm91dHB1dH1gKTtcbiAgICAgICAgICAgICAgICB3ZXNlcnZVcmwuc2VhcmNoUGFyYW1zLnNldCgnZmlsZW5hbWUnLCByZW5hbWVkRmlsZW5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2VzZXJ2VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ21heGFnZScsIG1heGFnZSlcbiAgICAgICAgICAgIHdlc2VydlVybC5zZWFyY2hQYXJhbXMuc29ydCgpXG4gICAgICAgICAgICBpZiAoc2tpcENhY2hlKSB3ZXNlcnZVcmwuc2VhcmNoUGFyYW1zLnNldCgnbWF4YWdlJywgJzFkJykgLy8gdGhpcyBpcyB0aGUgYmFyZSBtaW5pbXVtLiBTb3JyeSBhYm91dCB0aGF0LlxuXG5cblxuXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogIWV4cGVyaW1lbnRhbFxuICAgICAgICAgICAgICogUGFzcyBhbnkgdW5rbm93biBzZWFyY2hwYXJhbXMgdG8gd2VzZXJ2ZSwgdmVyYmF0aW1cbiAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoZGlzY2FyZGVkX2VudHJpZXMgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgW3BhcmFtTmFtZSwgcGFyYW1WYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGlzY2FyZGVkKSkge1xuICAgICAgICAgICAgICAgICAgICB3ZXNlcnZVcmwuc2VhcmNoUGFyYW1zLnNldChwYXJhbU5hbWUsIHBhcmFtVmFsdWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXZVNlcnZlIHVuZGVyc3RhbmRzIGNvbW1hIHNlcGFyYXRlZCB2YWx1ZXMuIE1ha2Ugc3VyZSB3ZSBkb24ndCBlc2NhcGUgdGhlbVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCB3ZXNlcnZlVXJsU3RyID0gd2VzZXJ2VXJsLnRvU3RyaW5nKCkucmVwbGFjZSgvJTJDL2csICcsJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhlc2UgaGVhZGVycyBhcmUgcGFzc2VkIHZlcmJhdGltIHRvIFdlU2VydmVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbGV0IHtcbiAgICAgICAgICAgICAgICBhY2NlcHQsXG4gICAgICAgICAgICAgICAgXCJhY2NlcHQtZW5jb2RpbmdcIjogYWNjZXB0X2VuY29kaW5nLFxuICAgICAgICAgICAgICAgIFwiYWNjZXB0LWxhbmd1YWdlXCI6IGFjY2VwdF9sYW5ndWFnZSxcbiAgICAgICAgICAgICAgICBcInVzZXItYWdlbnRcIjogdXNlcl9hZ2VudCxcbiAgICAgICAgICAgICAgICBcImNhY2hlLWNvbnRyb2xcIjogY2FjaGVfY29udHJvbCxcblxuICAgICAgICAgICAgICAgIC8vQ29va2llXG4gICAgICAgICAgICB9ID0gT2JqZWN0LmZyb21FbnRyaWVzKHJlcXVlc3QuaGVhZGVycy5lbnRyaWVzKCkpXG4gICAgICAgICAgICByZXR1cm4gY29tcHV0ZUNhY2hlZFJlc3BvbnNlKFxuICAgICAgICAgICAgICAgIG5ldyBSZXF1ZXN0KHdlc2VydmVVcmxTdHIsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NlcHQsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWNjZXB0LWVuY29kaW5nXCI6IGFjY2VwdF9lbmNvZGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWNjZXB0LWxhbmd1YWdlXCI6IGFjY2VwdF9sYW5ndWFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidXNlci1hZ2VudFwiOiB1c2VyX2FnZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjYWNoZS1jb250cm9sXCI6IGNhY2hlX2NvbnRyb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIngtZXItc291cmNlLXVybFwiOiBgaHR0cHM6Ly8ke3VybFBhcmFtfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIngtZXItaW5wdXQtZXh0ZW5zaW9uXCI6IGV4dGVuc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwieC1lci1jYW5vbmljYWwtdmFyaWF0aW9uLXVybFwiOiBjYW5vbmljYWxWYXJpYXRpb25VUkxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLCBjdHgsIGRlYnVnKVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaChgaHR0cHM6Ly8ke3VybFBhcmFtfWApXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbn1cbmFzeW5jIGZ1bmN0aW9uIGNvbXB1dGVDYWNoZWRSZXNwb25zZShpbWFnZVJlcXVlc3Q6IFJlcXVlc3QsIGN0eDogQ29udGV4dCwgZGVidWc6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCk6IFByb21pc2U8UmVzcG9uc2U+IHtcblxuICAgIGNvbnN0IHdlU2VydmVSZXNwb25zZSA9IGF3YWl0IGZldGNoKGltYWdlUmVxdWVzdCk7XG5cbiAgICBjb25zdCBjb250ZW50VHlwZSA9IHdlU2VydmVSZXNwb25zZS5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykgfHwgJyc7XG4gICAgLy8gZGVidWcoeyBjYWNoZU1pc3M6IHJlc3BvbnNlLCBldmVudCwgY29udGVudFR5cGUgfSk7XG4gICAgaWYgKCF3ZVNlcnZlUmVzcG9uc2Uub2sgfHwgIWNvbnRlbnRUeXBlLnN0YXJ0c1dpdGgoJ2ltYWdlJykpIHtcbiAgICAgICAgY29uc29sZS53YXJuKHsgb2s6IHdlU2VydmVSZXNwb25zZS5vaywgY29udGVudFR5cGUsIHN0YXR1c1RleHQ6IHdlU2VydmVSZXNwb25zZS5zdGF0dXNUZXh0LCBzdGF0dXM6IHdlU2VydmVSZXNwb25zZS5zdGF0dXMgfSlcbiAgICAgICAgcmV0dXJuIHdlU2VydmVSZXNwb25zZVxuICAgIH1cbiAgICAvKipcbiAgICAgKiB3ZSBnb3QgYW4gaW1hZ2UgZnJvbSB3ZVNlcnZlOiBsZXQncyBwZXJmb3JtIHNvbWUgcmVzcG9uc2UgbWFuaXB1bGF0aW9uIGFuZCBjYWNoaW5nIGJlZm9yZSByZXR1cm5pbmcgaXRzIGNvbnRlbnRzXG4gICAgICovXG4gICAgY29uc3QgY2Fub25pY2FsVmFyaWF0aW9uVVJMID0gaW1hZ2VSZXF1ZXN0LmhlYWRlcnMuZ2V0KCd4LWVyLWNhbm9uaWNhbC12YXJpYXRpb24tdXJsJyksXG4gICAgICAgIGZpbGVOYW1lID0gaW1hZ2VSZXF1ZXN0LmhlYWRlcnMuZ2V0KCdmaWxlTmFtZScpLFxuICAgICAgICBzb3VyY2VVcmwgPSBpbWFnZVJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtZXItc291cmNlLXVybCcpLFxuICAgICAgICBpbnB1dEV4dGVuc2lvbiA9IGltYWdlUmVxdWVzdC5oZWFkZXJzLmdldCgneC1lci1pbnB1dC1leHRlbnNpb24nKSB8fCBmaWxlTmFtZT8uc3BsaXQoJy4nKS5wb3AoKSB8fCAnJyxcbiAgICAgICAgd2VzZXJ2ZVVybFN0ciA9IGltYWdlUmVxdWVzdC51cmxcblxuICAgIGNvbnNvbGUuaW5mbyh7IGNhbm9uaWNhbFZhcmlhdGlvblVSTCwgd2VzZXJ2ZVVybFN0ciwgc291cmNlVXJsLCBmaWxlTmFtZSB9KVxuICAgIGxldCBuZXdFeHRlbnNpb24gPSBjb250ZW50VHlwZS5zcGxpdCgnLycpLnBvcCgpPy5yZXBsYWNlKCdqcGVnJywgJ2pwZycpLFxuICAgICAgICByZXNwb25zZSA9IG5ldyBSZXNwb25zZSh3ZVNlcnZlUmVzcG9uc2UuYm9keSwgd2VTZXJ2ZVJlc3BvbnNlKTtcblxuICAgIGNvbnN0IGFjY2VwdENoID0gW1xuICAgICAgICAnVmlld3BvcnQtSGVpZ2h0JywgJ1NlYy1DSC1WaWV3cG9ydC1IZWlnaHQnLFxuICAgICAgICAnVmlld3BvcnQtV2lkdGgnLCAnU2VjLUNILVZpZXdwb3J0LVdpZHRoJyxcbiAgICAgICAgJ0RQUicsICdTZWMtQ0gtRFBSJyxcbiAgICAgICAgJ1dpZHRoJywgJ1NlYy1DSC1XaWR0aCcsXG4gICAgXVxuICAgICAgICAuam9pbignLCAnKVxuXG4gICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ0FjY2VwdC1DSCcsIGFjY2VwdENoKTtcbiAgICByZXNwb25zZS5oZWFkZXJzLnNldCgnVmFyeScsIGAke2FjY2VwdENofSwgQWNjZXB0LCBBY2NlcHQtRW5jb2RpbmdgKTtcblxuICAgIHJlc3BvbnNlLmhlYWRlcnMuZGVsZXRlKCdjZi1jYWNoZS1zdGF0dXMnKTtcbiAgICByZXNwb25zZS5oZWFkZXJzLnNldCgnQ2FjaGUtQ29udHJvbCcsICdwdWJsaWMsIG1heC1hZ2U9JyArIFN0cmluZygzMTUzNjAwMCkpO1xuICAgIHJlc3BvbnNlLmhlYWRlcnMuc2V0KCd4LWVyLWNhY2hlZC1PbicsIFN0cmluZyhEYXRlLm5vdygpKSk7XG4gICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ2xhc3QtbW9kaWZpZWQnLCBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMTgwMDAwKS50b1VUQ1N0cmluZygpKTtcbiAgICBpZiAoc291cmNlVXJsKSByZXNwb25zZS5oZWFkZXJzLnNldCgneC1lci1zb3VyY2UtdXJsJywgc291cmNlVXJsKTtcbiAgICByZXNwb25zZS5oZWFkZXJzLnNldCgneC1lci13ZXNlcnZlLXVybCcsIHdlc2VydmVVcmxTdHIpO1xuXG4gICAgaWYgKGZpbGVOYW1lKSB7XG4gICAgICAgIHJlc3BvbnNlLmhlYWRlcnMuc2V0KCdDb250ZW50LURpc3Bvc2l0aW9uJywgYGlubGluZTsgZmlsZW5hbWUgPSAke2RlY29kZVVSSUNvbXBvbmVudChmaWxlTmFtZS5yZXBsYWNlKGlucHV0RXh0ZW5zaW9uLCBuZXdFeHRlbnNpb24gfHwgaW5wdXRFeHRlbnNpb24pKS50cmltKCl9IGApO1xuICAgIH1cbiAgICBsZXQgY2FjaGVSZXF1ZXN0ID0gY2Fub25pY2FsVmFyaWF0aW9uVVJMID8gbmV3IFJlcXVlc3QoY2Fub25pY2FsVmFyaWF0aW9uVVJMKSA6IGltYWdlUmVxdWVzdFxuICAgIHJlc3BvbnNlLmhlYWRlcnMuc2V0KCdsaW5rJywgYDwke2NhY2hlUmVxdWVzdC51cmx9PjsgcmVsID0gXCJjYW5vbmljYWxcImApXG4gICAgY29uc3QgY2FjaGUgPSBjYWNoZXMuZGVmYXVsdDtcbiAgICBkZWJ1Zyh7XG4gICAgICAgIGNhY2hlSGl0OiBmYWxzZSxcbiAgICAgICAgY29udGVudFR5cGUsXG5cbiAgICAgICAgc291cmNlVXJsLFxuICAgICAgICB3ZXNlcnZlVXJsU3RyLFxuICAgICAgICBmaWxlTmFtZSxcbiAgICAgICAgY2Fub25pY2FsVmFyaWF0aW9uVVJMXG4gICAgICAgIC8vIGhlYWRlcnM6IE9iamVjdC5mcm9tRW50cmllcyhyZXNwb25zZS5oZWFkZXJzKVxuICAgIH0pO1xuXG4gICAgY3R4LndhaXRVbnRpbChjYWNoZS5wdXQoY2FjaGVSZXF1ZXN0LCByZXNwb25zZS5jbG9uZSgpKSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuXG59XG5cblxuXG5hc3luYyBmdW5jdGlvbiBnZXRGcm9tQ2FjaGVPclRocm93KHsgY2Fub25pY2FsVmFyaWF0aW9uVVJMLCB3ZXNlcnZVcmwsIHNraXBDYWNoZSwgZGVidWdcbn06IHtcbiAgICBjYW5vbmljYWxWYXJpYXRpb25VUkw6IHN0cmluZywgd2VzZXJ2VXJsOiBVUkwsIGZldGNoRGVzdDogc3RyaW5nLCBza2lwQ2FjaGU6IGJvb2xlYW4sIGRlYnVnOiB7ICguLi5hdHRyczogYW55W10pOiB2b2lkIH1cbn0pOiBQcm9taXNlPFJlc3BvbnNlPiB7XG4gICAgaWYgKHNraXBDYWNoZSkgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignc2tpcHBpbmcgY2FjaGUnKSlcbiAgICAvKipcbiAgICAgKiBDYW5vbmljYWwgY2FjaGVkIFVSTCBkb2Vzbid0IGhhdmUgd2VzZXJ2IHBhcmFtZXRlcnMgYHVybGAgbm9yIGBmaWxlbmFtZWAuIFxuICAgICAqIFRoZSBmb3JtZXIgaXMgYWxyZWFkeSBwcmVzZW50IGluIHRoZSBvcmlnaW5hbCBVUkwuICBUaGUgbGF0dGVyIGlzIHVucmVsYXRlZCB0byB0aGUgaW1hZ2Unc1xuICAgICAqIGJpbmFyeSBjb250ZW50c1xuICAgICAqIEB0b2RvIFRoZSBwcm90b2NvbCBpc24ndCBjb25zaWRlcmVkIGVpdGhlci4gU2hvdWRsIGl0IGJlP1xuICAgICAqL1xuICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGNhY2hlcy5kZWZhdWx0Lm1hdGNoKG5ldyBSZXF1ZXN0KGNhbm9uaWNhbFZhcmlhdGlvblVSTCkpXG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ3ZhcmlhdGlvbiBub3QgY2FjaGVkJykpXG4gICAgfVxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KSlcbiAgICB9XG4gICAgY29uc3QgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykgfHwgJyc7XG4gICAgaWYgKCFjb250ZW50VHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdub24taW1hZ2UgY29udGVudFR5cGU6ICcgKyBjb250ZW50VHlwZSkpXG4gICAgfVxuXG4gICAgY29uc3QgY2FjaGVkT24gPSByZXNwb25zZS5oZWFkZXJzLmdldCgneC1lci1jYWNoZWQtb24nKSB8fCBTdHJpbmcoRGF0ZS5ub3coKSksXG4gICAgICAgIGNhY2hlZFNvdXJjZVVybCA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LWVyLXNvdXJjZS11cmwnKSB8fCBkZWNvZGVVUklDb21wb25lbnQoYGh0dHBzOi8vJHt3ZXNlcnZVcmwuc2VhcmNoUGFyYW1zLmdldCgndXJsJyl9YCksXG4gICAgICAgIGNhY2hlZFdlc2VydmV1cmwgPSBkZWNvZGVVUklDb21wb25lbnQocmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtZXItd2VzZXJ2ZS11cmwnKSB8fCB3ZXNlcnZVcmwudG9TdHJpbmcoKSksXG4gICAgICAgIGNhY2hlZENvbnRlbnREaXNwb3NpdGlvbiA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdDb250ZW50LURpc3Bvc2l0aW9uJyksXG4gICAgICAgIGNhY2hlZExpbmsgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnbGluaycpLFxuICAgICAgICBhZ2VTZWNvbmRzID0gTWF0aC5jZWlsKChEYXRlLm5vdygpIC0gTnVtYmVyKGNhY2hlZE9uKSkgLyAxMDAwKVxuICAgIGRlYnVnKHtcbiAgICAgICAgY2FjaGVIaXQ6IHRydWUsXG4gICAgICAgIGNvbnRlbnRUeXBlLFxuICAgICAgICBhZ2VTZWNvbmRzLFxuICAgICAgICBjYWNoZWRTb3VyY2VVcmwsXG4gICAgICAgIGNhY2hlZFdlc2VydmV1cmwsXG4gICAgICAgIGNhY2hlZENvbnRlbnREaXNwb3NpdGlvbixcbiAgICAgICAgY2FjaGVkTGlua1xuICAgICAgICAvLyBoZWFkZXJzOiBPYmplY3QuZnJvbUVudHJpZXMocmVzcG9uc2UuaGVhZGVycylcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59Il0sCiAgIm1hcHBpbmdzIjogImdtQkFBQSxvQkFBTSxJQUFZLEtBQU0sSUFBRyxDQUFDLEdBQUksR0FBRSxFQUFFLFFBQVEsSUFBSSxnQkFBZ0IsRUFBRSxRQUFRLE9B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
